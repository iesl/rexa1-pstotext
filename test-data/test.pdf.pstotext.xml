<?xml version="1.0" encoding="ISO-8859-1"?>
<document>
<page n="1">
<line><tbox llx="154" lly="663" urx="472" ury="686" f="1"><![CDATA[FACTORIE: Probabilistic Programming ]]></tbox></line>
<line><tbox llx="157" lly="643" urx="470" ury="666" f="1"><![CDATA[via Imperatively Defined Factor Graphs ]]></tbox></line>
<line><tbox llx="204" lly="590" urx="419" ury="603" f="2"><![CDATA[Andrew McCallum, Karl Schultz, Sameer Singh ]]></tbox></line>
<line><tbox llx="238" lly="579" urx="382" ury="592" f="3"><![CDATA[Department of Computer Science ]]></tbox></line>
<line><tbox llx="230" lly="568" urx="390" ury="581" f="3"><![CDATA[University of Massachusetts Amherst ]]></tbox></line>
<line><tbox llx="263" lly="557" urx="357" ury="570" f="3"><![CDATA[Amherst, MA 01003 ]]></tbox></line>
<line><tbox llx="215" lly="546" urx="405" ury="559" f="4"><![CDATA[{mccallum, kschultz, sameer}@cs.umass.edu ]]></tbox></line>
<line><tbox llx="282" lly="504" urx="340" ury="520" f="5"><![CDATA[Abstract ]]></tbox></line>
<line><tbox llx="143" lly="482" urx="478" ury="495" f="3"><![CDATA[Discriminatively trained undirected graphical models have had wide empirical ]]></tbox></line>
<line><tbox llx="143" lly="471" urx="478" ury="484" f="3"><![CDATA[success, and there has been increasing interest in toolkits that ease their applica- ]]></tbox></line>
<line><tbox llx="143" lly="460" urx="478" ury="473" f="3"><![CDATA[tion to complex relational data. The power in relational models is in their repeated ]]></tbox></line>
<line><tbox llx="143" lly="449" urx="478" ury="462" f="3"><![CDATA[structure and tied parameters; at issue is how to define these structures in a pow- ]]></tbox></line>
<line><tbox llx="143" lly="438" urx="478" ury="451" f="3"><![CDATA[erful and flexible way. Rather than using a declarative language, such as SQL ]]></tbox></line>
<line><tbox llx="143" lly="427" urx="478" ury="440" f="3"><![CDATA[or first-order logic, we advocate using an imperative language to express various ]]></tbox></line>
<line><tbox llx="143" lly="416" urx="478" ury="429" f="3"><![CDATA[aspects of model structure, inference, and learning. By combining the traditional, ]]></tbox></line>
<line><tbox llx="143" lly="405" urx="478" ury="418" f="3"><![CDATA[declarative, statistical semantics of factor graphs with imperative definitions of ]]></tbox></line>
<line><tbox llx="143" lly="394" urx="478" ury="407" f="3"><![CDATA[their construction and operation, we allow the user to mix declarative and proce- ]]></tbox></line>
<line><tbox llx="143" lly="383" urx="409" ury="396" f="3"><![CDATA[dural domain knowledge, and also gain significant efficiencies. ]]></tbox><tbox llx="403" lly="383" urx="478" ury="396" f="3"><![CDATA[We have imple- ]]></tbox></line>
<line><tbox llx="143" lly="372" urx="204" ury="385" f="3"><![CDATA[mented such ]]></tbox><tbox llx="197" lly="373" urx="347" ury="385" f="4"><![CDATA[imperatively defined factor graphs ]]></tbox><tbox llx="339" lly="372" urx="478" ury="385" f="3"><![CDATA[in a system we call FACTORIE, ]]></tbox></line>
<line><tbox llx="143" lly="361" urx="465" ury="374" f="3"><![CDATA[a software library for an object-oriented, strongly-typed, functional language. ]]></tbox><tbox llx="459" lly="361" urx="478" ury="374" f="3"><![CDATA[In ]]></tbox></line>
<line><tbox llx="143" lly="351" urx="478" ury="364" f="3"><![CDATA[experimental comparisons to Markov Logic Networks on joint segmentation and ]]></tbox></line>
<line><tbox llx="143" lly="340" urx="478" ury="353" f="3"><![CDATA[coreference, we find our approach to be 3-15 times faster while reducing error by ]]></tbox></line>
<line><tbox llx="143" lly="329" urx="321" ury="342" f="3"><![CDATA[20-25%---achieving a new state of the art. ]]></tbox></line>
<line><tbox llx="106" lly="295" urx="202" ury="312" f="5"><![CDATA[1 Introduction ]]></tbox></line>
<line><tbox llx="107" lly="273" urx="513" ury="286" f="3"><![CDATA[Conditional random fields [1], or discriminatively trained undirected graphical models, have become ]]></tbox></line>
<line><tbox llx="107" lly="262" urx="513" ury="275" f="3"><![CDATA[the tool of choice for addressing many important tasks across bioinformatics, natural language pro- ]]></tbox></line>
<line><tbox llx="107" lly="251" urx="513" ury="264" f="3"><![CDATA[cessing, robotics, and many other fields [2, 3, 4]. While relatively simple structures such as linear ]]></tbox></line>
<line><tbox llx="107" lly="240" urx="513" ury="253" f="3"><![CDATA[chains, grids, or fully-connected affinity graphs have been employed successfully in many contexts, ]]></tbox></line>
<line><tbox llx="107" lly="229" urx="513" ury="242" f="3"><![CDATA[there has been increasing interest in more complex relational structure---capturing more arbitrary ]]></tbox></line>
<line><tbox llx="107" lly="218" urx="513" ury="231" f="3"><![CDATA[dependencies among sets of variables, in repeated patterns---and interest in models whose variable- ]]></tbox></line>
<line><tbox llx="107" lly="207" urx="513" ury="220" f="3"><![CDATA[factor structure changes during inference, as in parse trees and identity uncertainty. Implementing ]]></tbox></line>
<line><tbox llx="107" lly="196" urx="513" ury="209" f="3"><![CDATA[such complex models from scratch in traditional programming languages is difficult and error-prone, ]]></tbox></line>
<line><tbox llx="107" lly="185" urx="513" ury="198" f="3"><![CDATA[and hence there has been several efforts to provide a high-level language in which models can be ]]></tbox></line>
<line><tbox llx="107" lly="174" urx="190" ury="187" f="3"><![CDATA[specified and run. ]]></tbox><tbox llx="185" lly="174" urx="513" ury="187" f="3"><![CDATA[For generative, directed graphical models these include BLOG [5], IBAL [6], ]]></tbox></line>
<line><tbox llx="107" lly="163" urx="513" ury="176" f="3"><![CDATA[and Church [7]. For conditional, undirected graphical models, these include Relational Markov ]]></tbox></line>
<line><tbox llx="107" lly="152" urx="512" ury="165" f="3"><![CDATA[Networks (RMNs) using SQL [8], and Markov Logic Networks (MLNs) using first-order logic [9]. ]]></tbox></line>
<line><tbox llx="107" lly="136" urx="513" ury="149" f="3"><![CDATA[Regarding logic, for many years there has been considerable effort in integrating first-order logic and ]]></tbox></line>
<line><tbox llx="107" lly="125" urx="513" ury="138" f="3"><![CDATA[probability [9, 10, 11, 12, 13]. However, we contend that in many of these proposed combinations, ]]></tbox></line>
<line><tbox llx="107" lly="114" urx="513" ury="127" f="3"><![CDATA[the `logic' aspect is not crucial to the ultimate goal of accurate and expressive modeling. The power ]]></tbox></line>
<line><tbox llx="107" lly="103" urx="513" ury="116" f="3"><![CDATA[of relational factor graphs is in their repeated relational structure and tied parameters. First-order ]]></tbox></line>
<line><tbox llx="107" lly="92" urx="513" ury="105" f="3"><![CDATA[logic is one way to specify this repeated structure, but it is less than ideal because of its focus on ]]></tbox></line>
<line><tbox llx="107" lly="81" urx="513" ury="94" f="3"><![CDATA[boolean outcomes and inability to easily and efficiently express relations such as graph reachability ]]></tbox></line>
<line><tbox llx="107" lly="70" urx="216" ury="83" f="3"><![CDATA[and set size comparison. ]]></tbox><tbox llx="213" lly="70" urx="513" ury="83" f="3"><![CDATA[Logical inference is used in some of these systems, such as PRISM [12], ]]></tbox></line>
<line><tbox llx="107" lly="59" urx="467" ury="72" f="3"><![CDATA[but in others, such as Markov Logic [9], it is largely replaced by probabilistic inference. ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="3"><![CDATA[1 ]]></tbox></line>
<pbox llx="106.00" lly="29.00" urx="513.00" ury="710.00"/></page>
<page n="2">
<line><tbox llx="107" lly="697" urx="449" ury="710" f="1"><![CDATA[This paper proposes an approach to probabilistic programming that preserves the ]]></tbox><tbox llx="442" lly="697" urx="496" ury="710" f="2"><![CDATA[declarative ]]></tbox><tbox llx="488" lly="697" urx="513" ury="710" f="1"><![CDATA[sta- ]]></tbox></line>
<line><tbox llx="107" lly="686" urx="394" ury="699" f="1"><![CDATA[tistical semantics of factor graphs, while at the same time leveraging ]]></tbox><tbox llx="386" lly="686" urx="439" ury="699" f="2"><![CDATA[imperative ]]></tbox><tbox llx="431" lly="686" urx="513" ury="699" f="1"><![CDATA[constructs (pieces ]]></tbox></line>
<line><tbox llx="107" lly="675" urx="513" ury="688" f="1"><![CDATA[of procedural programming) to greatly aid both efficiency and natural intuition in specifying model ]]></tbox></line>
<line><tbox llx="107" lly="664" urx="513" ury="677" f="1"><![CDATA[structure, inference, and learning, as detailed below. Our approach thus supports users in combining ]]></tbox></line>
<line><tbox llx="107" lly="653" urx="513" ury="666" f="1"><![CDATA[both declarative and procedural knowledge. Rather than first-order logic, model authors have access ]]></tbox></line>
<line><tbox llx="107" lly="642" urx="403" ury="655" f="1"><![CDATA[to a Turing complete language when writing their model specification. ]]></tbox><tbox llx="397" lly="642" urx="513" ury="655" f="1"><![CDATA[The point, however, is not ]]></tbox></line>
<line><tbox llx="107" lly="631" urx="424" ury="644" f="1"><![CDATA[merely to have greater formal expressiveness; it is ease-of-use and efficiency. ]]></tbox></line>
<line><tbox llx="107" lly="614" urx="207" ury="627" f="1"><![CDATA[We term our approach ]]></tbox><tbox llx="199" lly="614" urx="348" ury="627" f="3"><![CDATA[imperatively defined factor graphs ]]></tbox><tbox llx="340" lly="614" urx="513" ury="627" f="1"><![CDATA[(IDFs). Below we develop this approach ]]></tbox></line>
<line><tbox llx="107" lly="603" urx="513" ury="616" f="1"><![CDATA[in the context of Markov chain Monte-Carlo inference, and define four key imperative constructs--- ]]></tbox></line>
<line><tbox llx="107" lly="592" urx="513" ury="605" f="1"><![CDATA[arguing that they provide a natural interface to central operations in factor graph construction and ]]></tbox></line>
<line><tbox llx="107" lly="581" urx="513" ury="594" f="1"><![CDATA[inference. These imperative constructs (1) define the structure connecting variables and factors, ]]></tbox></line>
<line><tbox llx="107" lly="570" urx="513" ury="583" f="1"><![CDATA[(2) coordinate variable values, (3) map the variables neighboring a factor to sufficient statistics, ]]></tbox></line>
<line><tbox llx="107" lly="559" urx="356" ury="572" f="1"><![CDATA[and (4) propose jumps from one possible world to another. ]]></tbox><tbox llx="350" lly="559" urx="470" ury="572" f="1"><![CDATA[A model written as an IDF ]]></tbox><tbox llx="463" lly="559" urx="480" ury="572" f="2"><![CDATA[is ]]></tbox><tbox llx="472" lly="559" urx="513" ury="572" f="1"><![CDATA[a factor ]]></tbox></line>
<line><tbox llx="107" lly="548" urx="513" ury="561" f="1"><![CDATA[graph, with all the traditional semantics of factors, variables, possible worlds, scores, and partition ]]></tbox></line>
<line><tbox llx="107" lly="537" urx="513" ury="550" f="1"><![CDATA[functions; we are simply providing an extremely flexible language for their succinct specification, ]]></tbox></line>
<line><tbox llx="107" lly="527" urx="322" ury="540" f="1"><![CDATA[which also enables efficient inference and learning. ]]></tbox></line>
<line><tbox llx="107" lly="510" urx="513" ury="523" f="1"><![CDATA[Our first embodiment of the approach is the system we call FACTORIE (loosely named for "Factor ]]></tbox></line>
<line><tbox llx="107" lly="499" urx="266" ury="512" f="1"><![CDATA[graphs, Imperative, Extensible", see ]]></tbox><tbox llx="261" lly="499" urx="419" ury="511" f="5"><![CDATA[http://factorie.cs.umass.edu) ]]></tbox><tbox llx="417" lly="499" urx="513" ury="512" f="1"><![CDATA[strongly-typed, func- ]]></tbox></line>
<line><tbox llx="107" lly="488" urx="236" ury="501" f="1"><![CDATA[tional programming language ]]></tbox><tbox llx="228" lly="488" urx="261" ury="501" f="3"><![CDATA[Scala ]]></tbox><tbox llx="253" lly="488" urx="342" ury="501" f="1"><![CDATA[[14]. The choice of ]]></tbox><tbox llx="334" lly="488" urx="367" ury="501" f="3"><![CDATA[Scala ]]></tbox><tbox llx="359" lly="488" urx="513" ury="501" f="1"><![CDATA[stems from key inherent advantages ]]></tbox></line>
<line><tbox llx="107" lly="477" urx="339" ury="490" f="1"><![CDATA[of the language itself, plus its full interoperability with ]]></tbox><tbox llx="331" lly="477" urx="363" ury="490" f="3"><![CDATA[Java, ]]></tbox><tbox llx="355" lly="477" urx="513" ury="490" f="1"><![CDATA[and recent growing usage in the ma- ]]></tbox></line>
<line><tbox llx="107" lly="466" urx="513" ury="479" f="1"><![CDATA[chine learning community. By providing a library and direct access to a full programming language ]]></tbox></line>
<line><tbox llx="107" lly="455" urx="513" ury="468" f="1"><![CDATA[(as opposed to our own, new "little language"), the model authors have familiar and extensive re- ]]></tbox></line>
<line><tbox llx="107" lly="444" urx="513" ury="457" f="1"><![CDATA[sources for implementing the procedural aspects of the design, as well as the ability to beneficially ]]></tbox></line>
<line><tbox llx="107" lly="433" urx="513" ury="446" f="1"><![CDATA[mix data pre-processing, evaluation, and other book-keeping code in the same files as the proba- ]]></tbox></line>
<line><tbox llx="107" lly="422" urx="513" ury="435" f="1"><![CDATA[bilistic model specification. Furthermore, FACTORIE is object-oriented in that variables and factor ]]></tbox></line>
<line><tbox llx="107" lly="411" urx="170" ury="424" f="1"><![CDATA[templates are ]]></tbox><tbox llx="162" lly="411" urx="204" ury="424" f="2"><![CDATA[objects, ]]></tbox><tbox llx="195" lly="411" urx="488" ury="424" f="1"><![CDATA[supporting inheritance, polymophism, composition, and encapsulation. ]]></tbox></line>
<line><tbox llx="107" lly="394" urx="513" ury="407" f="1"><![CDATA[The contributions of this paper are introducing the novel IDF methodology for specifying factor ]]></tbox></line>
<line><tbox llx="107" lly="383" urx="513" ury="396" f="1"><![CDATA[graphs, and successfully demonstrating it on a non-trivial task. We present experimental results ]]></tbox></line>
<line><tbox llx="107" lly="372" urx="513" ury="385" f="1"><![CDATA[applying FACTORIE to the substantial task of joint inference in segmentation and coreference of ]]></tbox></line>
<line><tbox llx="107" lly="361" urx="513" ury="374" f="1"><![CDATA[research paper citations, surpassing previous state-of-the-art results. In comparison to Markov Logic ]]></tbox></line>
<line><tbox llx="107" lly="350" urx="506" ury="363" f="1"><![CDATA[(Alchemy) on the same data, we achieve a 20-25% reduction in error, and do so 3-15 times faster. ]]></tbox></line>
<line><tbox llx="106" lly="319" urx="323" ury="336" f="6"><![CDATA[2 Imperatively Defined Factor Graphs ]]></tbox></line>
<line><tbox llx="107" lly="297" urx="177" ury="310" f="1"><![CDATA[A factor graph ]]></tbox><tbox llx="171" lly="297" urx="188" ury="308" f="7"><![CDATA[G ]]></tbox><tbox llx="180" lly="297" urx="513" ury="310" f="1"><![CDATA[is a bipartite graph over factors and variables defining a probability distribution ]]></tbox></line>
<line><tbox llx="107" lly="286" urx="232" ury="299" f="1"><![CDATA[over a set of target variables ]]></tbox><tbox llx="223" lly="286" urx="245" ury="299" f="8"><![CDATA[y, ]]></tbox><tbox llx="236" lly="286" urx="427" ury="299" f="1"><![CDATA[optionally conditioned on observed variables ]]></tbox><tbox llx="418" lly="286" urx="440" ury="299" f="8"><![CDATA[x. ]]></tbox><tbox llx="432" lly="286" urx="476" ury="299" f="1"><![CDATA[A factor ]]></tbox><tbox llx="468" lly="286" urx="487" ury="299" f="9"><![CDATA[# ]]></tbox><tbox llx="478" lly="285" urx="488" ury="293" f="10"><![CDATA[i ]]></tbox><tbox llx="482" lly="286" urx="513" ury="299" f="1"><![CDATA[com- ]]></tbox></line>
<line><tbox llx="107" lly="275" urx="513" ury="288" f="1"><![CDATA[putes a scalar value over the subset of variables that are its neighbors in the graph. Often this real- ]]></tbox></line>
<line><tbox llx="107" lly="264" urx="458" ury="277" f="1"><![CDATA[valued function is defined as the exponential of the dot product over sufficient statistics ]]></tbox><tbox llx="451" lly="257" urx="471" ury="275" f="11"><![CDATA[{f ]]></tbox><tbox llx="461" lly="263" urx="475" ury="271" f="10"><![CDATA[ik ]]></tbox><tbox llx="466" lly="264" urx="488" ury="277" f="9"><![CDATA[(x ]]></tbox><tbox llx="479" lly="263" urx="489" ury="271" f="10"><![CDATA[i ]]></tbox><tbox llx="482" lly="264" urx="494" ury="275" f="7"><![CDATA[, ]]></tbox><tbox llx="483" lly="264" urx="503" ury="277" f="8"><![CDATA[y ]]></tbox><tbox llx="492" lly="263" urx="502" ury="271" f="10"><![CDATA[i ]]></tbox><tbox llx="493" lly="264" urx="514" ury="277" f="9"><![CDATA[)} ]]></tbox></line>
<line><tbox llx="107" lly="253" urx="178" ury="266" f="1"><![CDATA[and parameters ]]></tbox><tbox llx="171" lly="246" urx="191" ury="264" f="11"><![CDATA[{# ]]></tbox><tbox llx="181" lly="253" urx="195" ury="260" f="10"><![CDATA[ik ]]></tbox><tbox llx="189" lly="246" urx="207" ury="264" f="11"><![CDATA[}, ]]></tbox><tbox llx="197" lly="253" urx="232" ury="266" f="1"><![CDATA[where ]]></tbox><tbox llx="225" lly="253" urx="240" ury="264" f="7"><![CDATA[k ]]></tbox><tbox llx="234" lly="246" urx="263" ury="264" f="11"><![CDATA[2 {1 ]]></tbox><tbox llx="255" lly="253" urx="286" ury="264" f="7"><![CDATA[. . . K ]]></tbox><tbox llx="277" lly="253" urx="287" ury="260" f="10"><![CDATA[i ]]></tbox><tbox llx="280" lly="246" urx="295" ury="264" f="11"><![CDATA[} ]]></tbox><tbox llx="286" lly="253" urx="311" ury="266" f="1"><![CDATA[and ]]></tbox><tbox llx="304" lly="253" urx="322" ury="264" f="7"><![CDATA[K ]]></tbox><tbox llx="313" lly="253" urx="323" ury="260" f="10"><![CDATA[i ]]></tbox><tbox llx="317" lly="253" urx="479" ury="266" f="1"><![CDATA[is the number of parameters for factor ]]></tbox><tbox llx="470" lly="253" urx="489" ury="266" f="9"><![CDATA[# ]]></tbox><tbox llx="480" lly="253" urx="490" ury="260" f="10"><![CDATA[i ]]></tbox><tbox llx="482" lly="253" urx="495" ury="266" f="1"><![CDATA[. ]]></tbox></line>
<line><tbox llx="107" lly="236" urx="214" ury="249" f="1"><![CDATA[Factor graphs often use ]]></tbox><tbox llx="207" lly="236" urx="302" ury="249" f="3"><![CDATA[parameter tying, i.e. ]]></tbox><tbox llx="298" lly="236" urx="486" ury="249" f="1"><![CDATA[the same parameters for several factors. A ]]></tbox><tbox llx="479" lly="236" urx="514" ury="249" f="3"><![CDATA[factor ]]></tbox></line>
<line><tbox llx="107" lly="225" urx="152" ury="238" f="3"><![CDATA[template ]]></tbox><tbox llx="146" lly="225" urx="161" ury="236" f="7"><![CDATA[T ]]></tbox><tbox llx="152" lly="225" urx="162" ury="233" f="10"><![CDATA[j ]]></tbox><tbox llx="157" lly="225" urx="258" ury="238" f="1"><![CDATA[consists of parameters ]]></tbox><tbox llx="252" lly="218" urx="272" ury="237" f="11"><![CDATA[{# ]]></tbox><tbox llx="262" lly="225" urx="277" ury="233" f="10"><![CDATA[jk ]]></tbox><tbox llx="270" lly="218" urx="288" ury="237" f="11"><![CDATA[}, ]]></tbox><tbox llx="279" lly="225" urx="400" ury="238" f="1"><![CDATA[sufficient statistic functions ]]></tbox><tbox llx="394" lly="218" urx="415" ury="237" f="11"><![CDATA[{f ]]></tbox><tbox llx="404" lly="225" urx="420" ury="233" f="10"><![CDATA[jk ]]></tbox><tbox llx="413" lly="218" urx="431" ury="237" f="11"><![CDATA[}, ]]></tbox><tbox llx="422" lly="225" urx="513" ury="238" f="1"><![CDATA[and a description of ]]></tbox></line>
<line><tbox llx="107" lly="214" urx="428" ury="227" f="1"><![CDATA[an arbitrary relationship between variables, yielding a set of satisfying tuples ]]></tbox><tbox llx="422" lly="207" urx="447" ury="226" f="11"><![CDATA[{(x ]]></tbox><tbox llx="437" lly="214" urx="447" ury="222" f="10"><![CDATA[i ]]></tbox><tbox llx="440" lly="214" urx="452" ury="225" f="7"><![CDATA[, ]]></tbox><tbox llx="442" lly="214" urx="461" ury="227" f="8"><![CDATA[y ]]></tbox><tbox llx="451" lly="214" urx="461" ury="222" f="10"><![CDATA[i ]]></tbox><tbox llx="451" lly="214" urx="474" ury="228" f="9"><![CDATA[)}. ]]></tbox><tbox llx="468" lly="214" urx="513" ury="227" f="1"><![CDATA[For each ]]></tbox></line>
<line><tbox llx="107" lly="203" urx="211" ury="216" f="1"><![CDATA[of these variable tuples ]]></tbox><tbox llx="203" lly="203" urx="225" ury="217" f="9"><![CDATA[(x ]]></tbox><tbox llx="216" lly="203" urx="226" ury="211" f="10"><![CDATA[i ]]></tbox><tbox llx="219" lly="203" urx="231" ury="214" f="7"><![CDATA[, ]]></tbox><tbox llx="220" lly="203" urx="240" ury="216" f="8"><![CDATA[y ]]></tbox><tbox llx="229" lly="203" urx="239" ury="211" f="10"><![CDATA[i ]]></tbox><tbox llx="230" lly="203" urx="246" ury="217" f="9"><![CDATA[) ]]></tbox><tbox llx="240" lly="196" urx="258" ury="215" f="11"><![CDATA[2 ]]></tbox><tbox llx="251" lly="203" urx="267" ury="214" f="7"><![CDATA[T ]]></tbox><tbox llx="257" lly="203" urx="268" ury="211" f="10"><![CDATA[j ]]></tbox><tbox llx="263" lly="203" urx="513" ury="216" f="1"><![CDATA[that fulfills the relationship, the factor template instantiates ]]></tbox></line>
<line><tbox llx="107" lly="192" urx="194" ury="205" f="1"><![CDATA[a factor that shares ]]></tbox><tbox llx="188" lly="185" urx="208" ury="204" f="11"><![CDATA[{# ]]></tbox><tbox llx="198" lly="192" urx="213" ury="200" f="10"><![CDATA[jk ]]></tbox><tbox llx="206" lly="185" urx="222" ury="204" f="11"><![CDATA[} ]]></tbox><tbox llx="213" lly="192" urx="238" ury="205" f="1"><![CDATA[and ]]></tbox><tbox llx="232" lly="185" urx="252" ury="204" f="11"><![CDATA[{f ]]></tbox><tbox llx="242" lly="192" urx="257" ury="200" f="10"><![CDATA[jk ]]></tbox><tbox llx="250" lly="185" urx="266" ury="204" f="11"><![CDATA[} ]]></tbox><tbox llx="257" lly="192" urx="389" ury="205" f="1"><![CDATA[with all other instantiations of ]]></tbox><tbox llx="383" lly="193" urx="399" ury="203" f="7"><![CDATA[T ]]></tbox><tbox llx="389" lly="192" urx="400" ury="200" f="10"><![CDATA[j ]]></tbox><tbox llx="392" lly="192" urx="423" ury="205" f="1"><![CDATA[. Let ]]></tbox><tbox llx="417" lly="185" urx="433" ury="204" f="11"><![CDATA[T ]]></tbox><tbox llx="426" lly="192" urx="513" ury="205" f="1"><![CDATA[be the set of factor ]]></tbox></line>
<line><tbox llx="107" lly="181" urx="359" ury="194" f="1"><![CDATA[templates. In this case the probability distribution is defined: ]]></tbox></line>
<line><tbox llx="189" lly="151" urx="226" ury="161" f="7"><![CDATA[p(y|x) ]]></tbox><tbox llx="217" lly="151" urx="254" ury="170" f="9"><![CDATA[= 1 ]]></tbox></line>
<line><tbox llx="231" lly="144" urx="262" ury="155" f="7"><![CDATA[Z(x) ]]></tbox><tbox llx="259" lly="133" urx="285" ury="171" f="12"><![CDATA[Y ]]></tbox></line>
<line><tbox llx="255" lly="139" urx="267" ury="147" f="10"><![CDATA[T ]]></tbox><tbox llx="260" lly="139" urx="269" ury="145" f="13"><![CDATA[j ]]></tbox><tbox llx="264" lly="135" urx="282" ury="148" f="14"><![CDATA[2T ]]></tbox></line>
<line><tbox llx="290" lly="133" urx="316" ury="171" f="12"><![CDATA[Y ]]></tbox></line>
<line><tbox llx="277" lly="139" urx="292" ury="147" f="15"><![CDATA[(x ]]></tbox><tbox llx="285" lly="138" urx="294" ury="144" f="13"><![CDATA[i ]]></tbox><tbox llx="288" lly="139" urx="303" ury="147" f="10"><![CDATA[,y ]]></tbox><tbox llx="296" lly="138" urx="304" ury="144" f="13"><![CDATA[i ]]></tbox><tbox llx="298" lly="139" urx="319" ury="147" f="15"><![CDATA[)2T ]]></tbox><tbox llx="312" lly="138" urx="320" ury="144" f="13"><![CDATA[j ]]></tbox></line>
<line><tbox llx="315" lly="151" urx="341" ury="164" f="9"><![CDATA[exp ]]></tbox><tbox llx="334" lly="144" urx="354" ury="164" f="12"><![CDATA[2 4 ]]></tbox></line>
<line><tbox llx="343" lly="165" urx="357" ury="173" f="10"><![CDATA[K ]]></tbox><tbox llx="350" lly="164" urx="358" ury="170" f="13"><![CDATA[j ]]></tbox></line>
<line><tbox llx="341" lly="133" urx="369" ury="171" f="12"><![CDATA[X ]]></tbox><tbox llx="341" lly="139" urx="362" ury="147" f="10"><![CDATA[k=1 ]]></tbox></line>
<line><tbox llx="357" lly="151" urx="371" ury="161" f="7"><![CDATA[# ]]></tbox><tbox llx="362" lly="150" urx="377" ury="158" f="10"><![CDATA[jk ]]></tbox><tbox llx="370" lly="151" urx="384" ury="161" f="7"><![CDATA[f ]]></tbox><tbox llx="375" lly="150" urx="390" ury="158" f="10"><![CDATA[jk ]]></tbox><tbox llx="381" lly="151" urx="403" ury="164" f="9"><![CDATA[(x ]]></tbox><tbox llx="394" lly="150" urx="404" ury="158" f="10"><![CDATA[i ]]></tbox><tbox llx="397" lly="151" urx="409" ury="161" f="7"><![CDATA[, ]]></tbox><tbox llx="398" lly="151" urx="418" ury="163" f="8"><![CDATA[y ]]></tbox><tbox llx="407" lly="150" urx="417" ury="158" f="10"><![CDATA[i ]]></tbox><tbox llx="408" lly="151" urx="424" ury="164" f="9"><![CDATA[) ]]></tbox><tbox llx="414" lly="144" urx="435" ury="164" f="12"><![CDATA[3 5 ]]></tbox><tbox llx="421" lly="151" urx="433" ury="161" f="7"><![CDATA[. ]]></tbox></line>
<line><tbox llx="107" lly="114" urx="513" ury="127" f="1"><![CDATA[As in all relational factor graphs, our language supports variables and factor template definitions. In ]]></tbox></line>
<line><tbox llx="107" lly="103" urx="513" ury="116" f="1"><![CDATA[our case the variables---which can be binary, categorical, ordinal, real, etc---are typed objects in the ]]></tbox></line>
<line><tbox llx="107" lly="92" urx="316" ury="105" f="1"><![CDATA[object-oriented language, and can be sub-classed. ]]></tbox><tbox llx="313" lly="92" urx="513" ury="105" f="1"><![CDATA[Relations between variables can be represented ]]></tbox></line>
<line><tbox llx="107" lly="81" urx="513" ury="94" f="1"><![CDATA[directly as members (instance variables) in these variable objects, rather than as indices into global ]]></tbox></line>
<line><tbox llx="107" lly="70" urx="513" ury="83" f="1"><![CDATA[tables. In addition we allow for new variable types to be programmed by model authors via polymor- ]]></tbox></line>
<line><tbox llx="107" lly="59" urx="513" ury="72" f="1"><![CDATA[phism. For example, the user can easily create new variable types such as a set-valued variable type, ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="1"><![CDATA[2 ]]></tbox></line>
<pbox llx="106.00" lly="29.00" urx="514.00" ury="710.00"/></page>
<page n="3">
<line><tbox llx="143" lly="690" urx="477" ury="703" f="1"><![CDATA[Figure 1: Example of variable classes for a linear chain and a coreference model. ]]></tbox></line>
<line><tbox llx="108" lly="677" urx="350" ury="687" f="2"><![CDATA[class Token(str:String) extends EnumVariable(str) ]]></tbox></line>
<line><tbox llx="108" lly="667" urx="501" ury="677" f="2"><![CDATA[class Label(str:String, val token:Token) extends EnumVariable(str) with VarInSeq ]]></tbox></line>
<line><tbox llx="108" lly="657" urx="433" ury="667" f="2"><![CDATA[class Mention(val string:String) extends PrimitiveVariable[Entity] ]]></tbox></line>
<line><tbox llx="108" lly="647" urx="321" ury="657" f="2"><![CDATA[class Entity extends SetVariable[Mention] { ]]></tbox></line>
<line><tbox llx="123" lly="637" urx="248" ury="647" f="2"><![CDATA[var canonical:String = "" ]]></tbox></line>
<line><tbox llx="123" lly="627" urx="292" ury="637" f="2"><![CDATA[def add(m:Mention, d:DiffList) = { ]]></tbox></line>
<line><tbox llx="137" lly="617" urx="282" ury="627" f="2"><![CDATA[super.add(m,d); m.set(this,d) ]]></tbox></line>
<line><tbox llx="137" lly="607" urx="330" ury="617" f="2"><![CDATA[canonical = recomputeCanonical(members) ]]></tbox></line>
<line><tbox llx="123" lly="597" urx="131" ury="607" f="2"><![CDATA[} ]]></tbox></line>
<line><tbox llx="123" lly="587" urx="306" ury="597" f="2"><![CDATA[def remove(m:Mention, d:DiffList) = { ]]></tbox></line>
<line><tbox llx="137" lly="577" urx="296" ury="588" f="2"><![CDATA[super.remove(m,d); m.set(null,d) ]]></tbox></line>
<line><tbox llx="137" lly="567" urx="330" ury="578" f="2"><![CDATA[canonical = recomputeCanonical(members) ]]></tbox></line>
<line><tbox llx="123" lly="557" urx="131" ury="568" f="2"><![CDATA[} ]]></tbox></line>
<line><tbox llx="108" lly="547" urx="117" ury="558" f="2"><![CDATA[} ]]></tbox></line>
<line><tbox llx="107" lly="528" urx="513" ury="541" f="1"><![CDATA[representing a group of unique values, as well as traits augmenting variables to represent sequences ]]></tbox></line>
<line><tbox llx="107" lly="517" urx="282" ury="530" f="1"><![CDATA[of elements with left and right neighbors. ]]></tbox></line>
<line><tbox llx="107" lly="500" urx="329" ury="513" f="1"><![CDATA[Typically, IDF programming consists of two distinct ]]></tbox><tbox llx="322" lly="500" urx="360" ury="513" f="3"><![CDATA[stages: ]]></tbox><tbox llx="353" lly="500" urx="513" ury="513" f="1"><![CDATA[defining the data representation, then ]]></tbox></line>
<line><tbox llx="107" lly="489" urx="513" ury="502" f="1"><![CDATA[defining the factors for scoring. This separation offers great flexibility. In the first stage the model ]]></tbox></line>
<line><tbox llx="107" lly="478" urx="513" ury="491" f="1"><![CDATA[author implements infrastructure for storing a possible world---variables, their relations and values. ]]></tbox></line>
<line><tbox llx="107" lly="467" urx="513" ury="480" f="1"><![CDATA[Somewhat surprisingly, authors can do this with a mind-set and style they would employ for deter- ]]></tbox></line>
<line><tbox llx="107" lly="456" urx="513" ury="469" f="1"><![CDATA[ministic programming, including usage of standard data structures such as linked lists, hash tables ]]></tbox></line>
<line><tbox llx="107" lly="445" urx="513" ury="458" f="1"><![CDATA[and objects embedded in other objects. In some cases authors must provide API functions for "un- ]]></tbox></line>
<line><tbox llx="107" lly="434" urx="513" ury="447" f="1"><![CDATA[doing" and "redoing" changes to variables that will be tracked by MCMC, but in most cases such ]]></tbox></line>
<line><tbox llx="107" lly="423" urx="513" ury="436" f="1"><![CDATA[functionality is already provided by the library's wide variety of variable object implementations. ]]></tbox></line>
<line><tbox llx="107" lly="412" urx="513" ury="425" f="1"><![CDATA[For example, in a linear-chain CRF model, a variable containing a word token can be declared as the ]]></tbox></line>
<line><tbox llx="108" lly="402" urx="137" ury="413" f="2"><![CDATA[Token ]]></tbox><tbox llx="134" lly="401" urx="243" ury="414" f="1"><![CDATA[class shown in Figure 1. ]]></tbox><tbox llx="233" lly="406" urx="244" ury="415" f="4"><![CDATA[1 ]]></tbox><tbox llx="241" lly="401" urx="513" ury="414" f="1"><![CDATA[A variable for labels can be declared similarly, with the addition ]]></tbox></line>
<line><tbox llx="107" lly="390" urx="153" ury="403" f="1"><![CDATA[that each ]]></tbox><tbox llx="147" lly="391" urx="175" ury="402" f="2"><![CDATA[Label ]]></tbox><tbox llx="170" lly="395" urx="181" ury="404" f="4"><![CDATA[2 ]]></tbox><tbox llx="176" lly="390" urx="435" ury="403" f="1"><![CDATA[object has an instance variable that points to its corresponding ]]></tbox><tbox llx="429" lly="391" urx="459" ury="402" f="2"><![CDATA[Token. ]]></tbox><tbox llx="457" lly="390" urx="513" ury="403" f="1"><![CDATA[The second ]]></tbox></line>
<line><tbox llx="107" lly="379" urx="411" ury="392" f="1"><![CDATA[stage of our linear-chain CRF implementation is described in Section 2.2. ]]></tbox></line>
<line><tbox llx="107" lly="362" urx="391" ury="375" f="1"><![CDATA[Consider also the task of entity resolution in which we have a set of ]]></tbox><tbox llx="385" lly="363" urx="428" ury="374" f="2"><![CDATA[Mentions ]]></tbox><tbox llx="425" lly="362" urx="513" ury="375" f="1"><![CDATA[to be co-referenced ]]></tbox></line>
<line><tbox llx="107" lly="352" urx="133" ury="365" f="1"><![CDATA[into ]]></tbox><tbox llx="127" lly="352" urx="172" ury="363" f="2"><![CDATA[Entities. ]]></tbox><tbox llx="170" lly="352" urx="187" ury="365" f="1"><![CDATA[A ]]></tbox><tbox llx="181" lly="352" urx="219" ury="363" f="2"><![CDATA[Mention ]]></tbox><tbox llx="216" lly="352" urx="482" ury="365" f="1"><![CDATA[contains its string form, but its value as a random variable is the ]]></tbox><tbox llx="475" lly="352" urx="508" ury="363" f="2"><![CDATA[Entity ]]></tbox></line>
<line><tbox llx="107" lly="341" urx="263" ury="354" f="1"><![CDATA[to which it is currently assigned. An ]]></tbox><tbox llx="256" lly="341" urx="290" ury="352" f="2"><![CDATA[Entity ]]></tbox><tbox llx="287" lly="341" urx="435" ury="354" f="1"><![CDATA[is a set-valued variable---the set of ]]></tbox><tbox llx="429" lly="341" urx="471" ury="352" f="2"><![CDATA[Mentions ]]></tbox><tbox llx="469" lly="341" urx="513" ury="354" f="1"><![CDATA[assigned ]]></tbox></line>
<line><tbox llx="107" lly="330" urx="423" ury="343" f="1"><![CDATA[to it; it holds and maintains a canonical string form representative of all its ]]></tbox><tbox llx="417" lly="330" urx="460" ury="341" f="2"><![CDATA[Mentions ]]></tbox><tbox llx="458" lly="330" urx="513" ury="343" f="1"><![CDATA[(see Figure ]]></tbox></line>
<line><tbox llx="107" lly="319" urx="122" ury="332" f="1"><![CDATA[1 ]]></tbox><tbox llx="112" lly="323" urx="123" ury="333" f="4"><![CDATA[3 ]]></tbox><tbox llx="116" lly="319" urx="151" ury="332" f="1"><![CDATA[). The ]]></tbox><tbox llx="144" lly="320" urx="195" ury="330" f="2"><![CDATA[add/remove ]]></tbox><tbox llx="192" lly="319" urx="350" ury="332" f="1"><![CDATA[methods are explained in section 2.3. ]]></tbox></line>
<line><tbox llx="107" lly="291" urx="353" ury="305" f="5"><![CDATA[2.1 Inference and Imperative Constraint Preservation ]]></tbox></line>
<line><tbox llx="107" lly="271" urx="513" ury="284" f="1"><![CDATA[For inference, we rely on MCMC to achieve efficiency with models that not only have large tree- ]]></tbox></line>
<line><tbox llx="107" lly="260" urx="513" ury="273" f="1"><![CDATA[width but an exponentially-sized unrolled network, as is common with complex relational data ]]></tbox></line>
<line><tbox llx="107" lly="249" urx="513" ury="262" f="1"><![CDATA[[15, 9, 5]. The key is to avoid unrolling the network over multiple hypotheses, and to represent ]]></tbox></line>
<line><tbox llx="107" lly="238" urx="513" ury="251" f="1"><![CDATA[only one variable-value configuration at a time. As in BLOG [5], MCMC steps can adjust model ]]></tbox></line>
<line><tbox llx="107" lly="227" urx="465" ury="240" f="1"><![CDATA[structure as necessary, and with each step the FACTORIE library automatically builds a ]]></tbox><tbox llx="457" lly="227" urx="513" ury="240" f="7"><![CDATA[DiffList---a ]]></tbox></line>
<line><tbox llx="107" lly="216" urx="513" ury="229" f="1"><![CDATA[compact object containing the variables changed by the step, as well as undo and redo capabilities. ]]></tbox></line>
<line><tbox llx="107" lly="205" urx="365" ury="218" f="1"><![CDATA[Calculating the factor graph's `score' for a step only requires ]]></tbox><tbox llx="358" lly="205" urx="400" ury="218" f="7"><![CDATA[DiffList ]]></tbox><tbox llx="393" lly="205" urx="513" ury="218" f="1"><![CDATA[variables, their factors, and ]]></tbox></line>
<line><tbox llx="107" lly="194" urx="513" ury="207" f="1"><![CDATA[neighboring variables, as described in Section 2.4. In fact, unlike BLOG and BLAISE [16], we ]]></tbox></line>
<line><tbox llx="107" lly="183" urx="278" ury="196" f="1"><![CDATA[build inference and learning entirely on ]]></tbox><tbox llx="271" lly="183" urx="313" ury="196" f="7"><![CDATA[DiffList ]]></tbox><tbox llx="306" lly="183" urx="513" ury="196" f="1"><![CDATA[scores and never need to score the entire model. ]]></tbox></line>
<line><tbox llx="107" lly="172" urx="513" ury="185" f="1"><![CDATA[This enables efficient reasoning about observed data larger than memory, or models in which the ]]></tbox></line>
<line><tbox llx="107" lly="161" urx="412" ury="174" f="1"><![CDATA[number of factors is a high-degree polynomial of the number of variables. ]]></tbox></line>
<line><tbox llx="107" lly="144" urx="370" ury="157" f="1"><![CDATA[A key component of many MCMC inference procedures is the ]]></tbox><tbox llx="362" lly="144" urx="457" ury="157" f="3"><![CDATA[proposal distribution ]]></tbox><tbox llx="450" lly="144" urx="513" ury="157" f="1"><![CDATA[that proposes ]]></tbox></line>
<line><tbox llx="107" lly="133" urx="513" ury="146" f="1"><![CDATA[changes to the current configuration. This is a natural place for injecting prior knowledge about ]]></tbox></line>
<line><tbox llx="107" lly="122" urx="513" ury="135" f="1"><![CDATA[coordination of variable values and various structural changes. In fact, in some cases we can avoid ]]></tbox></line>
<line><tbox llx="120" lly="105" urx="129" ury="114" f="8"><![CDATA[1 ]]></tbox><tbox llx="123" lly="101" urx="189" ury="113" f="9"><![CDATA[Objects of class ]]></tbox><tbox llx="184" lly="101" urx="246" ury="112" f="2"><![CDATA[EnumVariable ]]></tbox><tbox llx="243" lly="101" urx="484" ury="113" f="9"><![CDATA[hold variables with a value selected from a finite enumerated set. ]]></tbox></line>
<line><tbox llx="120" lly="95" urx="129" ury="103" f="8"><![CDATA[2 ]]></tbox><tbox llx="123" lly="90" urx="140" ury="102" f="9"><![CDATA[In ]]></tbox><tbox llx="133" lly="90" urx="163" ury="102" f="10"><![CDATA[Scala ]]></tbox><tbox llx="157" lly="91" urx="195" ury="101" f="2"><![CDATA[var/val ]]></tbox><tbox llx="192" lly="90" urx="333" ury="102" f="9"><![CDATA[indicates a variable declaration; trait ]]></tbox><tbox llx="328" lly="91" urx="371" ury="101" f="2"><![CDATA[VarInSeq ]]></tbox><tbox llx="368" lly="90" urx="490" ury="102" f="9"><![CDATA[provides methods for obtaining ]]></tbox><tbox llx="485" lly="91" urx="508" ury="101" f="2"><![CDATA[next ]]></tbox></line>
<line><tbox llx="107" lly="80" urx="129" ury="92" f="9"><![CDATA[and ]]></tbox><tbox llx="124" lly="81" urx="147" ury="91" f="2"><![CDATA[prev ]]></tbox><tbox llx="144" lly="80" urx="227" ury="92" f="9"><![CDATA[labels in a sequence. ]]></tbox></line>
<line><tbox llx="120" lly="74" urx="129" ury="82" f="8"><![CDATA[3 ]]></tbox><tbox llx="123" lly="69" urx="140" ury="81" f="9"><![CDATA[In ]]></tbox><tbox llx="132" lly="69" urx="162" ury="81" f="10"><![CDATA[Scala ]]></tbox><tbox llx="156" lly="70" urx="174" ury="80" f="2"><![CDATA[def ]]></tbox><tbox llx="171" lly="69" urx="512" ury="81" f="9"><![CDATA[indicates a function definition where the value returned is the last line-of-code in the function; ]]></tbox></line>
<line><tbox llx="108" lly="60" urx="146" ury="70" f="2"><![CDATA[members ]]></tbox><tbox llx="143" lly="59" urx="290" ury="71" f="9"><![CDATA[is the set of variables in the superclass ]]></tbox><tbox llx="284" lly="60" urx="344" ury="70" f="2"><![CDATA[SetVariable. ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="1"><![CDATA[3 ]]></tbox></line>
<pbox llx="107.00" lly="29.00" urx="513.00" ury="703.00"/></page>
<page n="4">
<line><tbox llx="108" lly="690" urx="512" ury="703" f="1"><![CDATA[Figure 2: Examples of FACTORIE factor templates. Some error-checking code is elided for brevity. ]]></tbox></line>
<line><tbox llx="108" lly="677" urx="447" ury="687" f="3"><![CDATA[val crfTemplate = new TemplateWithDotStatistics3[Label,Label,Token] { ]]></tbox></line>
<line><tbox llx="123" lly="667" urx="447" ury="677" f="3"><![CDATA[def unroll1 (label:Label) = Factor(label, label.next, label.token) ]]></tbox></line>
<line><tbox llx="123" lly="657" urx="471" ury="667" f="3"><![CDATA[def unroll2 (label:Label) = Factor(label.prev, label, label.prev.token) ]]></tbox></line>
<line><tbox llx="123" lly="647" urx="496" ury="657" f="3"><![CDATA[def unroll3 (token:Token) = throw new Error("Token values shouldn't change") ]]></tbox></line>
<line><tbox llx="108" lly="637" urx="117" ury="647" f="3"><![CDATA[} ]]></tbox></line>
<line><tbox llx="108" lly="627" urx="477" ury="637" f="3"><![CDATA[val depParseTemplate = new Template1[Node] with DotStatistics2[Word,Word] { ]]></tbox></line>
<line><tbox llx="123" lly="617" urx="331" ury="627" f="3"><![CDATA[def unroll1(n:Node) = n.selfAndDescendants ]]></tbox></line>
<line><tbox llx="123" lly="607" urx="408" ury="617" f="3"><![CDATA[def statistics(n:Node) = Stat(n.word, closestVerb(n).word) ]]></tbox></line>
<line><tbox llx="123" lly="597" urx="486" ury="607" f="3"><![CDATA[def closestVerb(n:Node) = if (isVerb(n.word)) n else closestVerb(n.parent) ]]></tbox></line>
<line><tbox llx="108" lly="587" urx="117" ury="597" f="3"><![CDATA[} ]]></tbox></line>
<line><tbox llx="108" lly="577" urx="486" ury="588" f="3"><![CDATA[val corefTemplate = new Template2[Mention,Entity] with DotStatistics1[Bool] { ]]></tbox></line>
<line><tbox llx="123" lly="567" urx="345" ury="578" f="3"><![CDATA[def unroll1 (m:Mention) = Factor(m, m.entity) ]]></tbox></line>
<line><tbox llx="123" lly="557" urx="500" ury="568" f="3"><![CDATA[def unroll2 (e:Entity) = for (mention <- e.mentions) yield Factor(mention, e) ]]></tbox></line>
<line><tbox llx="123" lly="547" urx="500" ury="558" f="3"><![CDATA[def statistics(m:Mention,e:Entity) = Bool(distance(m.string,e.canonical)<0.5) ]]></tbox></line>
<line><tbox llx="108" lly="537" urx="117" ury="548" f="3"><![CDATA[} ]]></tbox></line>
<line><tbox llx="108" lly="527" urx="316" ury="538" f="3"><![CDATA[val logicTemplate1 = Forany[Person] { p =} ]]></tbox></line>
<line><tbox llx="0" lly="527" urx="438" ury="538" f="3"><![CDATA[p.smokes-4 } p.cancer } ]]></tbox></line>
<line><tbox llx="108" lly="517" urx="409" ury="528" f="3"><![CDATA[val logicTemplate2 = Forany[Person] { p =} p.friends.smokes < ]]></tbox><tbox llx="404" lly="511" urx="414" ury="527" f="4"><![CDATA[-  ]]></tbox><tbox llx="419" lly="517" urx="481" ury="528" f="3"><![CDATA[} p.smokes } ]]></tbox></line>
<line><tbox llx="107" lly="500" urx="303" ury="513" f="1"><![CDATA[expensive deterministic factors altogether with ]]></tbox><tbox llx="294" lly="500" urx="384" ury="513" f="5"><![CDATA[property-preserving ]]></tbox><tbox llx="376" lly="500" urx="513" ury="513" f="1"><![CDATA[proposal functions [17]. For ex- ]]></tbox></line>
<line><tbox llx="107" lly="489" urx="513" ury="502" f="1"><![CDATA[ample, coreference transitivity can be efficiently enforced by proper initialization and a transitivity- ]]></tbox></line>
<line><tbox llx="107" lly="478" urx="513" ury="491" f="1"><![CDATA[preserving proposal function; projectivity in dependency parsers can be enforced similarly. We term ]]></tbox></line>
<line><tbox llx="107" lly="467" urx="132" ury="480" f="1"><![CDATA[this ]]></tbox><tbox llx="124" lly="467" urx="276" ury="480" f="5"><![CDATA[imperative constraint preservation. ]]></tbox><tbox llx="270" lly="467" urx="334" ury="480" f="1"><![CDATA[In FACTORIE ]]></tbox><tbox llx="329" lly="467" urx="513" ury="480" f="1"><![CDATA[proposal distributions may be implemented ]]></tbox></line>
<line><tbox llx="107" lly="456" urx="513" ury="469" f="1"><![CDATA[by the model author. Alternatively, the FACTORIE library provides several default inference meth- ]]></tbox></line>
<line><tbox llx="107" lly="445" urx="460" ury="458" f="1"><![CDATA[ods, including Gibbs sampling, as well as default proposers for many variable classes. ]]></tbox></line>
<line><tbox llx="107" lly="419" urx="275" ury="433" f="6"><![CDATA[2.2 Imperative Structure Definition ]]></tbox></line>
<line><tbox llx="107" lly="400" urx="513" ury="413" f="1"><![CDATA[At the heart of model structure definition is the pattern of connectivity between variables and factors, ]]></tbox></line>
<line><tbox llx="107" lly="389" urx="147" ury="402" f="1"><![CDATA[and the ]]></tbox><tbox llx="138" lly="389" urx="181" ury="402" f="7"><![CDATA[DiffList ]]></tbox><tbox llx="173" lly="389" urx="513" ury="402" f="1"><![CDATA[must have extremely efficient access to this. Unlike BLOG, which uses a complex, ]]></tbox></line>
<line><tbox llx="107" lly="378" urx="513" ury="391" f="1"><![CDATA[highly-indexed data structure that must be updated during inference, we instead specify this con- ]]></tbox></line>
<line><tbox llx="107" lly="367" urx="383" ury="380" f="1"><![CDATA[nectivity imperatively: factor template objects have methods (e.g., ]]></tbox><tbox llx="377" lly="368" urx="457" ury="378" f="3"><![CDATA[unroll1, unroll2, ]]></tbox><tbox llx="454" lly="367" urx="482" ury="380" f="5"><![CDATA[etc., ]]></tbox><tbox llx="474" lly="367" urx="513" ury="380" f="1"><![CDATA[one for ]]></tbox></line>
<line><tbox llx="107" lly="356" urx="513" ury="369" f="1"><![CDATA[each factor argument) that find the factor's other variable neighbors given a single variable from the ]]></tbox></line>
<line><tbox llx="107" lly="345" urx="152" ury="358" f="7"><![CDATA[DiffList. ]]></tbox><tbox llx="147" lly="345" urx="513" ury="358" f="1"><![CDATA[This is typically accomplished using a simple data structure that is already available as ]]></tbox></line>
<line><tbox llx="107" lly="334" urx="513" ury="347" f="1"><![CDATA[part of the natural representation of the data, (e.g., as would be used by a non-probabilistic program- ]]></tbox></line>
<line><tbox llx="107" lly="323" urx="289" ury="336" f="1"><![CDATA[mer). The unroll method then constructs a ]]></tbox><tbox llx="283" lly="324" urx="316" ury="334" f="3"><![CDATA[Factor ]]></tbox><tbox llx="313" lly="323" urx="513" ury="336" f="1"><![CDATA[with these neighbors as arguments, and returns ]]></tbox></line>
<line><tbox llx="107" lly="312" urx="144" ury="325" f="1"><![CDATA[it. The ]]></tbox><tbox llx="137" lly="313" urx="170" ury="323" f="3"><![CDATA[unroll ]]></tbox><tbox llx="167" lly="312" urx="331" ury="325" f="1"><![CDATA[method may optionally return multiple ]]></tbox><tbox llx="324" lly="313" urx="362" ury="323" f="3"><![CDATA[Factors ]]></tbox><tbox llx="359" lly="312" urx="513" ury="325" f="1"><![CDATA[in response to a single changed vari- ]]></tbox></line>
<line><tbox llx="107" lly="301" urx="513" ury="314" f="1"><![CDATA[able. Note that this approach also efficiently supports a model structure that varies conditioned on ]]></tbox></line>
<line><tbox llx="107" lly="290" urx="510" ury="303" f="1"><![CDATA[variable values, because the unroll methods can examine and perform calculations on these values. ]]></tbox></line>
<line><tbox llx="107" lly="273" urx="513" ury="286" f="1"><![CDATA[Thus we now have the second stage of FACTORIE programming, in which the model author im- ]]></tbox></line>
<line><tbox llx="107" lly="262" urx="513" ury="275" f="1"><![CDATA[plements the factor templates that define the factors which score possible worlds. In our linear- ]]></tbox></line>
<line><tbox llx="107" lly="251" urx="340" ury="264" f="1"><![CDATA[chain CRF example, the factor between two succesive ]]></tbox><tbox llx="334" lly="252" urx="366" ury="262" f="3"><![CDATA[Labels ]]></tbox><tbox llx="364" lly="251" urx="397" ury="264" f="1"><![CDATA[and a ]]></tbox><tbox llx="392" lly="252" urx="420" ury="262" f="3"><![CDATA[Token ]]></tbox><tbox llx="418" lly="251" urx="513" ury="264" f="1"><![CDATA[might be declared as ]]></tbox></line>
<line><tbox llx="108" lly="241" urx="166" ury="251" f="3"><![CDATA[crfTemplate ]]></tbox><tbox llx="163" lly="240" urx="244" ury="253" f="1"><![CDATA[in Figure 2. Here ]]></tbox><tbox llx="238" lly="241" urx="276" ury="251" f="3"><![CDATA[unroll1 ]]></tbox><tbox llx="273" lly="240" urx="346" ury="253" f="1"><![CDATA[simply uses the ]]></tbox><tbox llx="340" lly="241" urx="368" ury="251" f="3"><![CDATA[token ]]></tbox><tbox llx="365" lly="240" urx="476" ury="253" f="1"><![CDATA[instance variable of each ]]></tbox><tbox llx="470" lly="241" urx="498" ury="251" f="3"><![CDATA[Label ]]></tbox><tbox llx="495" lly="240" urx="513" ury="253" f="1"><![CDATA[to ]]></tbox></line>
<line><tbox llx="107" lly="229" urx="513" ury="242" f="1"><![CDATA[find the corresponding third argument to the factor. This simple example does not, however, show the ]]></tbox></line>
<line><tbox llx="107" lly="218" urx="216" ury="231" f="1"><![CDATA[true expressive power of ]]></tbox><tbox llx="208" lly="218" urx="343" ury="231" f="5"><![CDATA[imperative structure definition. ]]></tbox><tbox llx="336" lly="218" urx="513" ury="231" f="1"><![CDATA[Consider instead a model for dependency ]]></tbox></line>
<line><tbox llx="107" lly="207" urx="240" ury="220" f="1"><![CDATA[parsing (with similarly defined ]]></tbox><tbox llx="233" lly="208" urx="256" ury="219" f="3"><![CDATA[Word ]]></tbox><tbox llx="253" lly="207" urx="278" ury="220" f="1"><![CDATA[and ]]></tbox><tbox llx="272" lly="208" urx="295" ury="219" f="3"><![CDATA[Node ]]></tbox><tbox llx="292" lly="207" urx="424" ury="220" f="1"><![CDATA[variables). In the same Figure, ]]></tbox><tbox llx="417" lly="208" urx="508" ury="219" f="3"><![CDATA[depParsingTemplate ]]></tbox></line>
<line><tbox llx="107" lly="196" urx="513" ury="209" f="1"><![CDATA[defines a template for factors that measure compatibility between a word and its closest verb as ]]></tbox></line>
<line><tbox llx="107" lly="185" urx="287" ury="198" f="1"><![CDATA[measured through parse tree connectivity. ]]></tbox><tbox llx="282" lly="185" urx="513" ury="198" f="1"><![CDATA[Such arbitrary-depth graph search is awkward in first- ]]></tbox></line>
<line><tbox llx="107" lly="174" urx="400" ury="187" f="1"><![CDATA[order logic, yet it is a simple one-line recursive method in FACTORIE. ]]></tbox><tbox llx="394" lly="174" urx="420" ury="187" f="1"><![CDATA[The ]]></tbox><tbox llx="414" lly="175" urx="466" ury="186" f="3"><![CDATA[statistics ]]></tbox><tbox llx="463" lly="174" urx="513" ury="187" f="1"><![CDATA[method is ]]></tbox></line>
<line><tbox llx="107" lly="163" urx="242" ury="176" f="1"><![CDATA[described below in Section 2.4. ]]></tbox></line>
<line><tbox llx="107" lly="147" urx="441" ury="160" f="1"><![CDATA[Consider also the coreference template measuring the compatibility between a ]]></tbox><tbox llx="436" lly="147" urx="474" ury="158" f="3"><![CDATA[Mention ]]></tbox><tbox llx="472" lly="147" urx="513" ury="160" f="1"><![CDATA[and the ]]></tbox></line>
<line><tbox llx="107" lly="136" urx="275" ury="149" f="1"><![CDATA[canonical representation of its assigned ]]></tbox><tbox llx="269" lly="136" urx="305" ury="147" f="3"><![CDATA[Entity. ]]></tbox><tbox llx="303" lly="136" urx="407" ury="149" f="1"><![CDATA[In response to a moved ]]></tbox><tbox llx="401" lly="136" urx="478" ury="147" f="3"><![CDATA[Mention, unroll1 ]]></tbox><tbox llx="475" lly="136" urx="513" ury="149" f="1"><![CDATA[returns ]]></tbox></line>
<line><tbox llx="107" lly="125" urx="201" ury="138" f="1"><![CDATA[a factor between the ]]></tbox><tbox llx="195" lly="125" urx="233" ury="136" f="3"><![CDATA[Mention ]]></tbox><tbox llx="231" lly="125" urx="335" ury="138" f="1"><![CDATA[and its newly assigned ]]></tbox><tbox llx="329" lly="125" urx="365" ury="136" f="3"><![CDATA[Entity. ]]></tbox><tbox llx="365" lly="125" urx="478" ury="138" f="1"><![CDATA[In response to a changed ]]></tbox><tbox llx="473" lly="125" urx="508" ury="136" f="3"><![CDATA[Entity, ]]></tbox></line>
<line><tbox llx="108" lly="115" urx="146" ury="125" f="3"><![CDATA[unroll2 ]]></tbox><tbox llx="143" lly="114" urx="356" ury="127" f="1"><![CDATA[returns a list of factors between itself all its member ]]></tbox><tbox llx="349" lly="115" urx="395" ury="125" f="3"><![CDATA[Mentions. ]]></tbox><tbox llx="392" lly="114" urx="513" ury="127" f="1"><![CDATA[It is inherent that sometimes ]]></tbox></line>
<line><tbox llx="107" lly="103" urx="513" ury="116" f="1"><![CDATA[different unroll methods will construct multiple copies of the same factor; they are automatically ]]></tbox></line>
<line><tbox llx="107" lly="92" urx="274" ury="105" f="1"><![CDATA[deduplicated by the FACTORIE library. ]]></tbox><tbox llx="269" lly="92" urx="513" ury="105" f="1"><![CDATA[Syntactic sugar for extended first-order logic primitives is ]]></tbox></line>
<line><tbox llx="107" lly="81" urx="513" ury="94" f="1"><![CDATA[also provided, and these can be mixed with imperative constructs; see the bottom of Figure 2 for ]]></tbox></line>
<line><tbox llx="107" lly="70" urx="513" ury="83" f="1"><![CDATA[two small examples. Specifying templates in FACTORIE can certainly be more verbose when not ]]></tbox></line>
<line><tbox llx="107" lly="59" urx="440" ury="72" f="1"><![CDATA[restricted to first-order logic; in this case we trade off some brevity for flexibility. ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="1"><![CDATA[4 ]]></tbox></line>
<pbox llx="0.00" lly="29.00" urx="513.00" ury="800.00"/></page>
<page n="5">
<line><tbox llx="107" lly="696" urx="285" ury="710" f="1"><![CDATA[2.3 Imperative Variable Coordination ]]></tbox></line>
<line><tbox llx="107" lly="676" urx="158" ury="689" f="2"><![CDATA[Variables' ]]></tbox><tbox llx="151" lly="677" urx="233" ury="687" f="3"><![CDATA[value-assignment ]]></tbox><tbox llx="230" lly="676" urx="513" ury="689" f="2"><![CDATA[methods can be overriden to automatically change other variable val- ]]></tbox></line>
<line><tbox llx="107" lly="665" urx="513" ury="678" f="2"><![CDATA[ues in coordination with the assignment---an often-desirable encapsulation of domain knowledge we ]]></tbox></line>
<line><tbox llx="107" lly="654" urx="136" ury="667" f="2"><![CDATA[term ]]></tbox><tbox llx="128" lly="654" urx="273" ury="667" f="4"><![CDATA[imperative variable coordination. ]]></tbox><tbox llx="267" lly="654" urx="513" ury="667" f="2"><![CDATA[For example, in response to a named entity label change, a ]]></tbox></line>
<line><tbox llx="107" lly="643" urx="513" ury="656" f="2"><![CDATA[coreference mention can have its string value automatically adjusted, rather than relying on MCMC ]]></tbox></line>
<line><tbox llx="107" lly="632" urx="396" ury="645" f="2"><![CDATA[inference to stumble upon this self-evident coordination. In Figure 1, ]]></tbox><tbox llx="390" lly="633" urx="423" ury="643" f="3"><![CDATA[Entity ]]></tbox><tbox llx="421" lly="632" urx="513" ury="645" f="2"><![CDATA[does a basic form of ]]></tbox></line>
<line><tbox llx="107" lly="621" urx="428" ury="634" f="2"><![CDATA[coordination by re-calculating its canonical string representation whenever a ]]></tbox><tbox llx="422" lly="622" urx="460" ury="632" f="3"><![CDATA[Mention ]]></tbox><tbox llx="458" lly="621" urx="513" ury="634" f="2"><![CDATA[is added or ]]></tbox></line>
<line><tbox llx="107" lly="610" urx="202" ury="623" f="2"><![CDATA[removed from its set. ]]></tbox></line>
<line><tbox llx="107" lly="593" urx="275" ury="606" f="2"><![CDATA[The ability to use prior knowledge for ]]></tbox><tbox llx="268" lly="593" urx="412" ury="606" f="4"><![CDATA[imperative variable coordination ]]></tbox><tbox llx="405" lly="593" urx="513" ury="606" f="2"><![CDATA[also allows the designer ]]></tbox></line>
<line><tbox llx="107" lly="582" urx="304" ury="595" f="2"><![CDATA[to define the feasible region for the sampling. ]]></tbox><tbox llx="305" lly="582" urx="513" ury="595" f="2"><![CDATA[In the proposal function, users make changes by ]]></tbox></line>
<line><tbox llx="107" lly="571" urx="145" ury="584" f="2"><![CDATA[calling ]]></tbox><tbox llx="138" lly="572" urx="229" ury="583" f="5"><![CDATA[value-assignment ]]></tbox><tbox llx="226" lly="571" urx="513" ury="584" f="2"><![CDATA[functions, and any changes made automatically through coordinating ]]></tbox></line>
<line><tbox llx="107" lly="560" urx="237" ury="573" f="2"><![CDATA[variables are appended to the ]]></tbox><tbox llx="229" lly="560" urx="274" ury="573" f="6"><![CDATA[DiffList. ]]></tbox><tbox llx="269" lly="560" urx="513" ury="573" f="2"><![CDATA[Since a factor template's contribution to the overall score ]]></tbox></line>
<line><tbox llx="107" lly="549" urx="513" ury="562" f="2"><![CDATA[will not change unless its neighboring variables have changed, once we know every variable that has ]]></tbox></line>
<line><tbox llx="107" lly="538" urx="301" ury="551" f="2"><![CDATA[changed we can efficiently score the proposal. ]]></tbox></line>
<line><tbox llx="107" lly="511" urx="308" ury="525" f="1"><![CDATA[2.4 Imperative Variable-Statistics Mapping ]]></tbox></line>
<line><tbox llx="107" lly="491" urx="513" ury="504" f="2"><![CDATA[In a somewhat unconventional use of functional mapping, we support a separation between factor ]]></tbox></line>
<line><tbox llx="107" lly="480" urx="157" ury="493" f="6"><![CDATA[neighbors ]]></tbox><tbox llx="148" lly="480" urx="173" ury="493" f="2"><![CDATA[and ]]></tbox><tbox llx="165" lly="480" urx="252" ury="493" f="6"><![CDATA[sufficient statistics. ]]></tbox><tbox llx="244" lly="480" urx="513" ury="493" f="2"><![CDATA[Neighbors are variables touching the factor whose changes imply ]]></tbox></line>
<line><tbox llx="107" lly="469" urx="263" ury="482" f="2"><![CDATA[that the factor needs to be re-scored. ]]></tbox><tbox llx="257" lly="469" urx="513" ury="482" f="2"><![CDATA[Sufficient statistics are the minimal set of variable values that ]]></tbox></line>
<line><tbox llx="107" lly="458" urx="304" ury="471" f="2"><![CDATA[determine the score contribution of the factor. ]]></tbox><tbox llx="299" lly="458" urx="513" ury="471" f="2"><![CDATA[These are usually the same; however, by allowing ]]></tbox></line>
<line><tbox llx="107" lly="447" urx="513" ury="460" f="2"><![CDATA[a function to perform the mapping, we provide an extremely powerful yet simple way to allow ]]></tbox></line>
<line><tbox llx="107" lly="436" urx="513" ury="449" f="2"><![CDATA[model designers to represent their data in natural ways, and concern themselves separately with how ]]></tbox></line>
<line><tbox llx="107" lly="425" urx="513" ury="438" f="2"><![CDATA[to parameterize them. For example, the two neighbors of a skip-edge factor [18] may each have ]]></tbox></line>
<line><tbox llx="107" lly="414" urx="513" ury="427" f="2"><![CDATA[cardinality equal to the number of named entities types, but we may only care to have the skip-edge ]]></tbox></line>
<line><tbox llx="107" lly="403" urx="336" ury="416" f="2"><![CDATA[factor enforce whether or not they match. We term this ]]></tbox><tbox llx="328" lly="403" urx="495" ury="416" f="4"><![CDATA[imperative variable-statistics mapping. ]]></tbox></line>
<line><tbox llx="107" lly="386" urx="153" ury="399" f="2"><![CDATA[Consider ]]></tbox><tbox llx="148" lly="387" urx="215" ury="398" f="3"><![CDATA[corefTemplate ]]></tbox><tbox llx="212" lly="386" urx="408" ury="399" f="2"><![CDATA[in Figure 2, the neighbors of the template are ]]></tbox><tbox llx="402" lly="379" urx="453" ury="398" f="7"><![CDATA[hMention, ]]></tbox><tbox llx="446" lly="387" urx="483" ury="398" f="3"><![CDATA[Entityi ]]></tbox><tbox llx="481" lly="386" urx="513" ury="399" f="2"><![CDATA[pairs. ]]></tbox></line>
<line><tbox llx="107" lly="375" urx="477" ury="388" f="2"><![CDATA[However, the sufficient statistic is simply a Boolean based on the "distance" of the unrolled ]]></tbox><tbox llx="470" lly="376" urx="508" ury="387" f="3"><![CDATA[Mention ]]></tbox></line>
<line><tbox llx="107" lly="364" urx="244" ury="377" f="2"><![CDATA[from the canonical value of the ]]></tbox><tbox llx="238" lly="365" urx="273" ury="376" f="3"><![CDATA[Entity. ]]></tbox><tbox llx="272" lly="364" urx="513" ury="377" f="2"><![CDATA[This allows the template to separate the natural represen- ]]></tbox></line>
<line><tbox llx="107" lly="353" urx="446" ury="366" f="2"><![CDATA[tation of possible worlds from the sufficient statistics needed to score its factors. ]]></tbox><tbox llx="441" lly="353" urx="513" ury="366" f="2"><![CDATA[Note that these ]]></tbox></line>
<line><tbox llx="107" lly="342" urx="411" ury="355" f="2"><![CDATA[sufficient statistics can be calculated as arbitrary functions of the unrolled ]]></tbox><tbox llx="405" lly="343" urx="443" ury="354" f="3"><![CDATA[Mention ]]></tbox><tbox llx="440" lly="342" urx="479" ury="355" f="2"><![CDATA[and the ]]></tbox><tbox llx="473" lly="343" urx="508" ury="354" f="3"><![CDATA[Entity. ]]></tbox></line>
<line><tbox llx="107" lly="331" urx="513" ury="344" f="2"><![CDATA[The models described in Section 3 use a number of factors whose sufficient statistics derive from the ]]></tbox></line>
<line><tbox llx="107" lly="321" urx="510" ury="334" f="2"><![CDATA[domains of its neighbors as well as those with arbitrary feature functions based on their neighbors. ]]></tbox></line>
<line><tbox llx="107" lly="304" urx="513" ury="317" f="2"><![CDATA[An MCMC proposal is scored as follows. First, a sample is generated from the proposal distribution, ]]></tbox></line>
<line><tbox llx="107" lly="293" urx="277" ury="306" f="2"><![CDATA[placing an initial set of variables in the ]]></tbox><tbox llx="269" lly="293" urx="314" ury="306" f="6"><![CDATA[DiffList. ]]></tbox><tbox llx="309" lly="293" urx="354" ury="306" f="2"><![CDATA[Next the ]]></tbox><tbox llx="348" lly="293" urx="439" ury="305" f="5"><![CDATA[value-assignment ]]></tbox><tbox llx="436" lly="293" urx="513" ury="306" f="2"><![CDATA[method is called ]]></tbox></line>
<line><tbox llx="107" lly="282" urx="244" ury="295" f="2"><![CDATA[for each of the variables on the ]]></tbox><tbox llx="237" lly="282" urx="282" ury="295" f="6"><![CDATA[DiffList, ]]></tbox><tbox llx="275" lly="282" urx="315" ury="295" f="2"><![CDATA[and via ]]></tbox><tbox llx="307" lly="282" urx="451" ury="295" f="4"><![CDATA[imperative variable coordination ]]></tbox><tbox llx="444" lly="282" urx="513" ury="295" f="2"><![CDATA[other variables ]]></tbox></line>
<line><tbox llx="107" lly="271" urx="203" ury="284" f="2"><![CDATA[may be added to the ]]></tbox><tbox llx="196" lly="271" urx="241" ury="284" f="6"><![CDATA[DiffList. ]]></tbox><tbox llx="237" lly="271" urx="513" ury="284" f="2"><![CDATA[Given the set of variables that have changed, FACTORIE iterates ]]></tbox></line>
<line><tbox llx="107" lly="260" urx="225" ury="273" f="2"><![CDATA[over each one and calls the ]]></tbox><tbox llx="218" lly="260" urx="255" ury="272" f="5"><![CDATA[unroll ]]></tbox><tbox llx="251" lly="260" urx="513" ury="273" f="2"><![CDATA[function for factor templates matching the variable's type. This ]]></tbox></line>
<line><tbox llx="107" lly="249" urx="352" ury="262" f="2"><![CDATA[dynamically provides the relevant structure of the graph via ]]></tbox><tbox llx="343" lly="249" urx="476" ury="262" f="4"><![CDATA[imperative structure definition, ]]></tbox><tbox llx="468" lly="249" urx="513" ury="262" f="2"><![CDATA[resulting ]]></tbox></line>
<line><tbox llx="107" lly="238" urx="290" ury="251" f="2"><![CDATA[in a set of factors that should be re-scored. ]]></tbox><tbox llx="284" lly="238" urx="513" ury="251" f="2"><![CDATA[The neighbors of each returned factor are given to the ]]></tbox></line>
<line><tbox llx="107" lly="227" urx="158" ury="240" f="2"><![CDATA[template's ]]></tbox><tbox llx="152" lly="228" urx="205" ury="238" f="3"><![CDATA[statistics ]]></tbox><tbox llx="202" lly="227" urx="513" ury="240" f="2"><![CDATA[function, and the sufficient statistics are used to generate the factor's score ]]></tbox></line>
<line><tbox llx="107" lly="216" urx="513" ury="229" f="2"><![CDATA[using the template's current parameter vector. These scores are summed, producing the final score ]]></tbox></line>
<line><tbox llx="107" lly="205" urx="198" ury="218" f="2"><![CDATA[for the MCMC step. ]]></tbox></line>
<line><tbox llx="107" lly="178" urx="179" ury="192" f="1"><![CDATA[2.5 Learning ]]></tbox></line>
<line><tbox llx="107" lly="157" urx="513" ury="170" f="2"><![CDATA[Maximum likelihood parameter estimation traditionally involves finding the gradient, however for ]]></tbox></line>
<line><tbox llx="107" lly="147" urx="513" ury="160" f="2"><![CDATA[complex models this can be prohibitively expensive since it requires the inference of marginal distri- ]]></tbox></line>
<line><tbox llx="107" lly="136" urx="513" ury="149" f="2"><![CDATA[butions over factors. Alternatively some have proposed online methods, such as perceptron, which ]]></tbox></line>
<line><tbox llx="107" lly="125" urx="513" ury="138" f="2"><![CDATA[avoids the need for marginals however still requires full decoding which can also be computationally ]]></tbox></line>
<line><tbox llx="107" lly="114" urx="316" ury="127" f="2"><![CDATA[expensive. We avoid both of these issues by using ]]></tbox><tbox llx="308" lly="114" urx="369" ury="127" f="4"><![CDATA[sample-rank ]]></tbox><tbox llx="361" lly="114" urx="513" ury="127" f="2"><![CDATA[[19]. This is a parameter estimation ]]></tbox></line>
<line><tbox llx="107" lly="103" urx="513" ury="116" f="2"><![CDATA[method that learns a ranking over all possible configurations by observing the difference between ]]></tbox></line>
<line><tbox llx="107" lly="92" urx="513" ury="105" f="2"><![CDATA[scores of proposed MCMC jumps. Parameter changes are made when the model's ranking of a ]]></tbox></line>
<line><tbox llx="107" lly="81" urx="513" ury="94" f="2"><![CDATA[proposed jump disagrees with a ranking determined by labeled truth. When there is such a disagree- ]]></tbox></line>
<line><tbox llx="107" lly="70" urx="513" ury="83" f="2"><![CDATA[ment, a perceptron-style update to active parameters is performed by finding all factors whose score ]]></tbox></line>
<line><tbox llx="107" lly="59" urx="307" ury="72" f="2"><![CDATA[has changed (i.e., factors with a neighbor in the ]]></tbox><tbox llx="299" lly="59" urx="347" ury="72" f="6"><![CDATA[DiffList). ]]></tbox><tbox llx="339" lly="59" urx="513" ury="72" f="2"><![CDATA[The active parameters are indexed by the ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="2"><![CDATA[5 ]]></tbox></line>
<pbox llx="107.00" lly="29.00" urx="513.00" ury="710.00"/></page>
<page n="6">
<line><tbox llx="107" lly="697" urx="513" ury="710" f="1"><![CDATA[sufficient statistics of these factors. Sample-rank is described in detail in [20]. As with inference, ]]></tbox></line>
<line><tbox llx="107" lly="686" urx="270" ury="699" f="1"><![CDATA[learning is efficient because it uses the ]]></tbox><tbox llx="262" lly="686" urx="305" ury="699" f="2"><![CDATA[DiffList ]]></tbox><tbox llx="297" lly="686" urx="494" ury="699" f="1"><![CDATA[and the imperative constructs described earlier. ]]></tbox></line>
<line><tbox llx="106" lly="656" urx="323" ury="672" f="3"><![CDATA[3 Joint Segmentation and Coreference ]]></tbox></line>
<line><tbox llx="107" lly="634" urx="513" ury="647" f="1"><![CDATA[Tasks involving multiple information extraction steps are traditionally solved using a pipeline archi- ]]></tbox></line>
<line><tbox llx="107" lly="623" urx="441" ury="636" f="1"><![CDATA[tecture, in which the output predictions of one stage are input to the next stage. ]]></tbox><tbox llx="435" lly="623" urx="513" ury="636" f="1"><![CDATA[This architecture ]]></tbox></line>
<line><tbox llx="107" lly="612" urx="375" ury="625" f="1"><![CDATA[is susceptible to cascading of errors from one stage to the next. ]]></tbox><tbox llx="370" lly="612" urx="513" ury="625" f="1"><![CDATA[To minimize this error, there has ]]></tbox></line>
<line><tbox llx="107" lly="601" urx="223" ury="614" f="1"><![CDATA[been significant interest in ]]></tbox><tbox llx="215" lly="601" urx="283" ury="614" f="4"><![CDATA[joint inference ]]></tbox><tbox llx="275" lly="601" urx="513" ury="614" f="1"><![CDATA[over multiple steps of an information processing pipeline ]]></tbox></line>
<line><tbox llx="107" lly="590" urx="513" ury="603" f="1"><![CDATA[[21, 22, 23]. Full joint inference usually results in exponentially large models for which learning and ]]></tbox></line>
<line><tbox llx="107" lly="579" urx="236" ury="592" f="1"><![CDATA[inference become intractable. ]]></tbox><tbox llx="230" lly="579" urx="513" ury="592" f="1"><![CDATA[One widely studied joint-inference task in information extraction is ]]></tbox></line>
<line><tbox llx="107" lly="568" urx="513" ury="581" f="1"><![CDATA[segmentation and coreference of research paper citation strings [21, 23, 24]. This involves segment- ]]></tbox></line>
<line><tbox llx="107" lly="557" urx="213" ury="570" f="1"><![CDATA[ing citation strings into ]]></tbox><tbox llx="206" lly="557" urx="265" ury="570" f="4"><![CDATA[author, title ]]></tbox><tbox llx="257" lly="557" urx="282" ury="570" f="1"><![CDATA[and ]]></tbox><tbox llx="275" lly="557" urx="309" ury="570" f="4"><![CDATA[venue ]]></tbox><tbox llx="302" lly="557" urx="513" ury="570" f="1"><![CDATA[fields (segmentation), and clustering the citations ]]></tbox></line>
<line><tbox llx="107" lly="546" urx="357" ury="559" f="1"><![CDATA[that refer to the same underlying paper entity (coreference). ]]></tbox><tbox llx="351" lly="546" urx="513" ury="559" f="1"><![CDATA[Previous results have shown that joint ]]></tbox></line>
<line><tbox llx="107" lly="535" urx="513" ury="548" f="1"><![CDATA[inference reduces error [21], and this task provides a good testbed for probabilistic programming. ]]></tbox></line>
<line><tbox llx="107" lly="524" urx="373" ury="537" f="1"><![CDATA[We now describe an IDF for the task. For more details, see [24]. ]]></tbox></line>
<line><tbox llx="107" lly="499" urx="293" ury="513" f="5"><![CDATA[3.1 Variables and Proposal Distribution ]]></tbox></line>
<line><tbox llx="107" lly="479" urx="275" ury="492" f="1"><![CDATA[As in the example given in Section 2, a ]]></tbox><tbox llx="269" lly="480" urx="307" ury="490" f="6"><![CDATA[Mention ]]></tbox><tbox llx="304" lly="479" urx="513" ury="492" f="1"><![CDATA[represents a citation and is a random variable that ]]></tbox></line>
<line><tbox llx="107" lly="468" urx="171" ury="481" f="1"><![CDATA[takes a single ]]></tbox><tbox llx="164" lly="469" urx="198" ury="479" f="6"><![CDATA[Entity ]]></tbox><tbox llx="194" lly="468" urx="267" ury="481" f="1"><![CDATA[as its value. An ]]></tbox><tbox llx="260" lly="469" urx="293" ury="479" f="6"><![CDATA[Entity ]]></tbox><tbox llx="290" lly="468" urx="436" ury="481" f="1"><![CDATA[is a set-valued variable containing ]]></tbox><tbox llx="430" lly="469" urx="468" ury="479" f="6"><![CDATA[Mention ]]></tbox><tbox llx="465" lly="468" urx="513" ury="481" f="1"><![CDATA[variables. ]]></tbox></line>
<line><tbox llx="107" lly="457" urx="459" ury="470" f="1"><![CDATA[This representation eliminates the need for an explicit transitivity constraint, since a ]]></tbox><tbox llx="453" lly="458" urx="491" ury="468" f="6"><![CDATA[Mention ]]></tbox><tbox llx="489" lly="457" urx="513" ury="470" f="1"><![CDATA[can ]]></tbox></line>
<line><tbox llx="107" lly="446" urx="172" ury="459" f="1"><![CDATA[hold only one ]]></tbox><tbox llx="166" lly="447" urx="199" ury="457" f="6"><![CDATA[Entity ]]></tbox><tbox llx="196" lly="446" urx="381" ury="459" f="1"><![CDATA[value, and this value is coordinated with the ]]></tbox><tbox llx="375" lly="447" urx="415" ury="457" f="6"><![CDATA[Entity's ]]></tbox><tbox llx="411" lly="446" urx="460" ury="459" f="1"><![CDATA[set-value. ]]></tbox></line>
<line><tbox llx="107" lly="429" urx="268" ury="442" f="1"><![CDATA[Variables for segmentation consist of ]]></tbox><tbox llx="262" lly="430" urx="330" ury="440" f="6"><![CDATA[Tokens, Labels ]]></tbox><tbox llx="328" lly="429" urx="353" ury="442" f="1"><![CDATA[and ]]></tbox><tbox llx="347" lly="430" urx="383" ury="440" f="6"><![CDATA[Fields. ]]></tbox><tbox llx="383" lly="429" urx="413" ury="442" f="1"><![CDATA[Each ]]></tbox><tbox llx="407" lly="430" urx="436" ury="440" f="6"><![CDATA[Token ]]></tbox><tbox llx="433" lly="429" urx="513" ury="442" f="1"><![CDATA[represents an ob- ]]></tbox></line>
<line><tbox llx="107" lly="418" urx="244" ury="431" f="1"><![CDATA[served word in a citation. Each ]]></tbox><tbox llx="238" lly="419" urx="266" ury="429" f="6"><![CDATA[Token ]]></tbox><tbox llx="263" lly="418" urx="354" ury="431" f="1"><![CDATA[has a corresponding ]]></tbox><tbox llx="348" lly="419" urx="376" ury="429" f="6"><![CDATA[Label ]]></tbox><tbox llx="373" lly="418" urx="513" ury="431" f="1"><![CDATA[which is an unobserved variable ]]></tbox></line>
<line><tbox llx="107" lly="407" urx="246" ury="420" f="1"><![CDATA[that can take one of four values: ]]></tbox><tbox llx="239" lly="407" urx="325" ury="420" f="4"><![CDATA[author, title, venue ]]></tbox><tbox llx="317" lly="407" urx="336" ury="420" f="1"><![CDATA[or ]]></tbox><tbox llx="328" lly="407" urx="361" ury="420" f="4"><![CDATA[none. ]]></tbox><tbox llx="354" lly="407" urx="425" ury="420" f="1"><![CDATA[There are three ]]></tbox><tbox llx="419" lly="408" urx="447" ury="418" f="6"><![CDATA[Field ]]></tbox><tbox llx="444" lly="407" urx="513" ury="420" f="1"><![CDATA[variables asso- ]]></tbox></line>
<line><tbox llx="107" lly="396" urx="183" ury="409" f="1"><![CDATA[ciated with each ]]></tbox><tbox llx="177" lly="397" urx="217" ury="407" f="6"><![CDATA[Mention, ]]></tbox><tbox llx="214" lly="396" urx="351" ury="409" f="1"><![CDATA[one for each field type (author, ]]></tbox><tbox llx="343" lly="396" urx="377" ury="409" f="4"><![CDATA[venue ]]></tbox><tbox llx="369" lly="396" urx="388" ury="409" f="1"><![CDATA[or ]]></tbox><tbox llx="380" lly="396" urx="412" ury="409" f="4"><![CDATA[title), ]]></tbox><tbox llx="404" lly="396" urx="513" ury="409" f="1"><![CDATA[that store the contiguous ]]></tbox></line>
<line><tbox llx="107" lly="385" urx="151" ury="398" f="1"><![CDATA[block of ]]></tbox><tbox llx="144" lly="386" urx="178" ury="396" f="6"><![CDATA[Tokens ]]></tbox><tbox llx="175" lly="385" urx="250" ury="398" f="1"><![CDATA[representing the ]]></tbox><tbox llx="243" lly="386" urx="307" ury="396" f="6"><![CDATA[Field; Labels ]]></tbox><tbox llx="304" lly="385" urx="329" ury="398" f="1"><![CDATA[and ]]></tbox><tbox llx="323" lly="386" urx="356" ury="396" f="6"><![CDATA[Fields ]]></tbox><tbox llx="353" lly="385" urx="513" ury="398" f="1"><![CDATA[are coordinated. This alternate repre- ]]></tbox></line>
<line><tbox llx="107" lly="374" urx="477" ury="387" f="1"><![CDATA[sentation of segmentation provides flexibility in specifying factor templates over predicted ]]></tbox><tbox llx="471" lly="375" urx="506" ury="385" f="6"><![CDATA[Fields. ]]></tbox></line>
<line><tbox llx="107" lly="357" urx="347" ury="370" f="1"><![CDATA[The proposal function for coreference randomly selects a ]]></tbox><tbox llx="340" lly="358" urx="381" ury="369" f="6"><![CDATA[Mention, ]]></tbox><tbox llx="378" lly="357" urx="513" ury="370" f="1"><![CDATA[and with probability 0.8 moves ]]></tbox></line>
<line><tbox llx="107" lly="346" urx="400" ury="359" f="1"><![CDATA[it to a random existing cluster, otherwise to a new singleton cluster. ]]></tbox><tbox llx="397" lly="346" urx="513" ury="359" f="1"><![CDATA[The proposal function for ]]></tbox></line>
<line><tbox llx="107" lly="335" urx="241" ury="348" f="1"><![CDATA[segmentation selects a random ]]></tbox><tbox llx="235" lly="336" urx="264" ury="347" f="6"><![CDATA[Field ]]></tbox><tbox llx="261" lly="335" urx="455" ury="348" f="1"><![CDATA[and grows or shrinks it by a random amount. ]]></tbox><tbox llx="450" lly="335" urx="513" ury="348" f="1"><![CDATA[When jointly ]]></tbox></line>
<line><tbox llx="107" lly="324" urx="412" ury="337" f="1"><![CDATA[performing both tasks, one of the proposal functions is randomly selected. ]]></tbox><tbox llx="407" lly="324" urx="433" ury="337" f="1"><![CDATA[The ]]></tbox><tbox llx="427" lly="325" urx="508" ury="336" f="6"><![CDATA[value-assignment ]]></tbox></line>
<line><tbox llx="107" lly="313" urx="181" ury="326" f="1"><![CDATA[function for the ]]></tbox><tbox llx="175" lly="314" urx="203" ury="325" f="6"><![CDATA[Field ]]></tbox><tbox llx="200" lly="313" urx="274" ury="326" f="1"><![CDATA[ensures that the ]]></tbox><tbox llx="268" lly="314" urx="301" ury="325" f="6"><![CDATA[Labels ]]></tbox><tbox llx="299" lly="313" urx="427" ury="326" f="1"><![CDATA[corresponding to the affected ]]></tbox><tbox llx="422" lly="314" urx="455" ury="325" f="6"><![CDATA[Tokens ]]></tbox><tbox llx="452" lly="313" urx="513" ury="326" f="1"><![CDATA[are correctly ]]></tbox></line>
<line><tbox llx="107" lly="302" urx="160" ury="315" f="1"><![CDATA[set when a ]]></tbox><tbox llx="153" lly="303" urx="181" ury="314" f="6"><![CDATA[Field ]]></tbox><tbox llx="178" lly="302" urx="322" ury="315" f="1"><![CDATA[is changed. This is an example of ]]></tbox><tbox llx="314" lly="303" urx="459" ury="315" f="4"><![CDATA[imperative variable coordination. ]]></tbox></line>
<line><tbox llx="107" lly="277" urx="214" ury="291" f="5"><![CDATA[3.2 Factor Templates ]]></tbox></line>
<line><tbox llx="107" lly="257" urx="225" ury="270" f="5"><![CDATA[Segmentation Templates: ]]></tbox><tbox llx="224" lly="257" urx="389" ury="270" f="1"><![CDATA[Segmentation templates examine only ]]></tbox><tbox llx="383" lly="258" urx="441" ury="268" f="6"><![CDATA[Field, Label ]]></tbox><tbox llx="439" lly="257" urx="464" ury="270" f="1"><![CDATA[and ]]></tbox><tbox llx="458" lly="258" urx="487" ury="268" f="6"><![CDATA[Token ]]></tbox><tbox llx="484" lly="257" urx="513" ury="270" f="1"><![CDATA[vari- ]]></tbox></line>
<line><tbox llx="107" lly="246" urx="140" ury="259" f="1"><![CDATA[ables, ]]></tbox><tbox llx="132" lly="246" urx="155" ury="259" f="4"><![CDATA[i.e. ]]></tbox><tbox llx="147" lly="246" urx="513" ury="259" f="1"><![CDATA[not using information from coreference predictions. These factor templates are IDF trans- ]]></tbox></line>
<line><tbox llx="107" lly="235" urx="458" ury="248" f="1"><![CDATA[lations of the Markov logic rules described in [21]. There is a template between every ]]></tbox><tbox llx="452" lly="236" urx="480" ury="246" f="6"><![CDATA[Token ]]></tbox><tbox llx="477" lly="235" urx="513" ury="248" f="1"><![CDATA[and its ]]></tbox></line>
<line><tbox llx="108" lly="225" urx="139" ury="236" f="6"><![CDATA[Label. ]]></tbox><tbox llx="138" lly="224" urx="450" ury="237" f="1"><![CDATA[Markov dependencies are captured by a template that examines successive ]]></tbox><tbox llx="444" lly="225" urx="477" ury="236" f="6"><![CDATA[Labels ]]></tbox><tbox llx="474" lly="224" urx="513" ury="237" f="1"><![CDATA[as well ]]></tbox></line>
<line><tbox llx="107" lly="213" urx="141" ury="226" f="1"><![CDATA[as the ]]></tbox><tbox llx="136" lly="214" urx="164" ury="225" f="6"><![CDATA[Token ]]></tbox><tbox llx="162" lly="213" urx="225" ury="226" f="1"><![CDATA[of the earlier ]]></tbox><tbox llx="219" lly="214" urx="250" ury="225" f="6"><![CDATA[Label. ]]></tbox><tbox llx="250" lly="213" urx="513" ury="226" f="1"><![CDATA[The sufficient statistics for these factors are the tuples created ]]></tbox></line>
<line><tbox llx="107" lly="202" urx="252" ury="215" f="1"><![CDATA[from the neighbors of the factor: ]]></tbox><tbox llx="246" lly="202" urx="273" ury="215" f="4"><![CDATA[e.g., ]]></tbox><tbox llx="266" lly="202" urx="347" ury="215" f="1"><![CDATA[the values of two ]]></tbox><tbox llx="342" lly="203" urx="375" ury="214" f="6"><![CDATA[Labels ]]></tbox><tbox llx="373" lly="202" urx="415" ury="215" f="1"><![CDATA[and one ]]></tbox><tbox llx="410" lly="203" urx="441" ury="214" f="6"><![CDATA[Token. ]]></tbox><tbox llx="441" lly="202" urx="513" ury="215" f="1"><![CDATA[We also have a ]]></tbox></line>
<line><tbox llx="107" lly="191" urx="247" ury="204" f="1"><![CDATA[factor template examining every ]]></tbox><tbox llx="241" lly="192" urx="269" ury="203" f="6"><![CDATA[Field ]]></tbox><tbox llx="266" lly="191" urx="513" ury="204" f="1"><![CDATA[with features based on the presence of numbers, dates, and ]]></tbox></line>
<line><tbox llx="107" lly="180" urx="264" ury="193" f="1"><![CDATA[punctuation. This takes advantage of ]]></tbox><tbox llx="256" lly="180" urx="378" ury="193" f="4"><![CDATA[variable-statistics mapping. ]]></tbox></line>
<line><tbox llx="107" lly="163" urx="219" ury="177" f="5"><![CDATA[Coreference Templates: ]]></tbox><tbox llx="218" lly="163" urx="434" ury="176" f="1"><![CDATA[The isolated coreference factor templates use only ]]></tbox><tbox llx="429" lly="164" urx="467" ury="175" f="6"><![CDATA[Mention ]]></tbox><tbox llx="465" lly="163" urx="513" ury="176" f="1"><![CDATA[variables. ]]></tbox></line>
<line><tbox llx="107" lly="152" urx="513" ury="165" f="1"><![CDATA[They consist of two factor templates that share the same sufficient statistics, but have separate ]]></tbox></line>
<line><tbox llx="107" lly="142" urx="358" ury="155" f="1"><![CDATA[weight vectors and different ways of unrolling the graph. An ]]></tbox><tbox llx="350" lly="142" urx="389" ury="155" f="4"><![CDATA[Affinity ]]></tbox><tbox llx="381" lly="142" urx="513" ury="155" f="1"><![CDATA[factor is created for all pairs of ]]></tbox></line>
<line><tbox llx="108" lly="131" urx="151" ury="142" f="6"><![CDATA[Mentions ]]></tbox><tbox llx="148" lly="131" urx="265" ury="144" f="1"><![CDATA[that are coreferent, while a ]]></tbox><tbox llx="257" lly="131" urx="307" ury="144" f="4"><![CDATA[Repulsion ]]></tbox><tbox llx="299" lly="131" urx="513" ury="144" f="1"><![CDATA[factor is created for all pairs that are not coreferent. ]]></tbox></line>
<line><tbox llx="107" lly="120" urx="314" ury="133" f="1"><![CDATA[The features of these templates correspond to the ]]></tbox><tbox llx="306" lly="120" urx="364" ury="133" f="4"><![CDATA[SimilarTitle ]]></tbox><tbox llx="356" lly="120" urx="381" ury="133" f="1"><![CDATA[and ]]></tbox><tbox llx="373" lly="120" urx="437" ury="133" f="4"><![CDATA[SimilarVenue ]]></tbox><tbox llx="429" lly="120" urx="513" ury="133" f="1"><![CDATA[first-order features ]]></tbox></line>
<line><tbox llx="107" lly="109" urx="198" ury="122" f="1"><![CDATA[in [21]. We also add ]]></tbox><tbox llx="190" lly="109" urx="250" ury="122" f="4"><![CDATA[SimilarDate ]]></tbox><tbox llx="241" lly="109" urx="266" ury="122" f="1"><![CDATA[and ]]></tbox><tbox llx="258" lly="109" urx="330" ury="122" f="4"><![CDATA[DissimilarDate ]]></tbox><tbox llx="322" lly="109" urx="503" ury="122" f="1"><![CDATA[features that look at the "date-like" tokens. ]]></tbox></line>
<line><tbox llx="107" lly="91" urx="189" ury="105" f="5"><![CDATA[Joint Templates: ]]></tbox><tbox llx="187" lly="92" urx="513" ury="105" f="1"><![CDATA[To allow the tasks to influence each other, factor templates are added that are ]]></tbox></line>
<line><tbox llx="107" lly="81" urx="513" ury="94" f="1"><![CDATA[unrolled during both segmentation and coreference sampling. Thus these factor templates neighbor ]]></tbox></line>
<line><tbox llx="108" lly="71" urx="189" ury="81" f="6"><![CDATA[Mentions, Fields, ]]></tbox><tbox llx="188" lly="70" urx="213" ury="83" f="1"><![CDATA[and ]]></tbox><tbox llx="207" lly="71" urx="243" ury="81" f="6"><![CDATA[Labels, ]]></tbox><tbox llx="241" lly="70" urx="513" ury="83" f="1"><![CDATA[and use the segmentation predictions for coreference, and vice- ]]></tbox></line>
<line><tbox llx="107" lly="59" urx="249" ury="72" f="1"><![CDATA[versa. We add templates for the ]]></tbox><tbox llx="242" lly="59" urx="322" ury="72" f="4"><![CDATA[JntInfCandidates ]]></tbox><tbox llx="314" lly="59" urx="513" ury="72" f="1"><![CDATA[rule from [21]. We create this factor template ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="1"><![CDATA[6 ]]></tbox></line>
<pbox llx="106.00" lly="29.00" urx="513.00" ury="710.00"/></page>
<page n="7">
<line><tbox llx="203" lly="690" urx="418" ury="703" f="1"><![CDATA[Table 1: Cora coreference and segmentation results ]]></tbox></line>
<line><tbox llx="239" lly="673" urx="465" ury="687" f="2"><![CDATA[Coreference Segmentation F1 ]]></tbox></line>
<line><tbox llx="191" lly="662" urx="349" ury="676" f="2"><![CDATA[Prec/Recall F1 Cluster Rec. ]]></tbox><tbox llx="350" lly="662" urx="498" ury="676" f="2"><![CDATA[Author Title Venue Total ]]></tbox></line>
<line><tbox llx="122" lly="651" urx="493" ury="664" f="1"><![CDATA[Fellegi-Sunter 78.0/97.7 86.7 62.7 n/a n/a n/a n/a ]]></tbox></line>
<line><tbox llx="122" lly="640" urx="496" ury="653" f="1"><![CDATA[Isolated MLN 94.3/97.0 95.6 78.1 99.3 97.3 98.2 98.2 ]]></tbox></line>
<line><tbox llx="129" lly="629" urx="496" ury="642" f="1"><![CDATA[Joint MLN 94.3/97.0 95.6 75.2 99.5 97.6 98.3 98.4 ]]></tbox></line>
<line><tbox llx="125" lly="618" urx="250" ury="631" f="1"><![CDATA[Isolated IDF 97.09/95.42 ]]></tbox><tbox llx="251" lly="618" urx="334" ury="632" f="2"><![CDATA[96.22 86.01 ]]></tbox><tbox llx="354" lly="618" urx="462" ury="631" f="1"><![CDATA[99.35 97.63 98.58 ]]></tbox><tbox llx="465" lly="618" urx="498" ury="632" f="2"><![CDATA[98.51 ]]></tbox></line>
<line><tbox llx="132" lly="607" urx="250" ury="620" f="1"><![CDATA[Joint IDF 95.34/98.25 ]]></tbox><tbox llx="251" lly="607" urx="334" ury="621" f="2"><![CDATA[96.71 94.62 ]]></tbox><tbox llx="354" lly="607" urx="462" ury="620" f="1"><![CDATA[99.42 97.99 98.78 ]]></tbox><tbox llx="465" lly="607" urx="498" ury="621" f="2"><![CDATA[98.72 ]]></tbox></line>
<line><tbox llx="107" lly="560" urx="172" ury="573" f="1"><![CDATA[such that (m, ]]></tbox><tbox llx="164" lly="560" urx="183" ury="571" f="3"><![CDATA[m ]]></tbox><tbox llx="173" lly="560" urx="183" ury="573" f="4"><![CDATA[0 ]]></tbox><tbox llx="174" lly="560" urx="356" ury="573" f="1"><![CDATA[) are unrolled only if they are in the same ]]></tbox><tbox llx="350" lly="561" urx="385" ury="571" f="5"><![CDATA[Entity. ]]></tbox><tbox llx="385" lly="560" urx="486" ury="573" f="1"><![CDATA[The neighbors include ]]></tbox><tbox llx="480" lly="561" urx="508" ury="571" f="5"><![CDATA[Label ]]></tbox></line>
<line><tbox llx="107" lly="549" urx="132" ury="562" f="1"><![CDATA[and ]]></tbox><tbox llx="127" lly="550" urx="167" ury="560" f="5"><![CDATA[Mention. ]]></tbox><tbox llx="169" lly="549" urx="208" ury="562" f="6"><![CDATA[Affinity ]]></tbox><tbox llx="201" lly="549" urx="226" ury="562" f="1"><![CDATA[and ]]></tbox><tbox llx="220" lly="549" urx="270" ury="562" f="6"><![CDATA[Repulsion ]]></tbox><tbox llx="263" lly="549" urx="480" ury="562" f="1"><![CDATA[factor templates are also created between pairs of ]]></tbox><tbox llx="475" lly="550" urx="508" ury="560" f="5"><![CDATA[Fields ]]></tbox></line>
<line><tbox llx="107" lly="538" urx="200" ury="551" f="1"><![CDATA[of the same type; for ]]></tbox><tbox llx="192" lly="538" urx="231" ury="551" f="6"><![CDATA[Affinity ]]></tbox><tbox llx="223" lly="538" urx="246" ury="551" f="1"><![CDATA[the ]]></tbox><tbox llx="240" lly="539" urx="273" ury="549" f="5"><![CDATA[Fields ]]></tbox><tbox llx="270" lly="538" urx="451" ury="551" f="1"><![CDATA[belong to coreferent mention pairs, and for ]]></tbox><tbox llx="443" lly="538" urx="494" ury="551" f="6"><![CDATA[Repulsion ]]></tbox><tbox llx="486" lly="538" urx="513" ury="551" f="1"><![CDATA[they ]]></tbox></line>
<line><tbox llx="107" lly="527" urx="513" ury="540" f="1"><![CDATA[belong to a pair of mentions that are not coreferent. The features of these templates denote similarity ]]></tbox></line>
<line><tbox llx="107" lly="516" urx="237" ury="529" f="1"><![CDATA[between field strings, namely: ]]></tbox><tbox llx="229" lly="516" urx="494" ury="529" f="6"><![CDATA[StringMatch, SubString, Prefix/SuffixMatch, TokenIntersectSize, ]]></tbox><tbox llx="486" lly="516" urx="510" ury="529" f="1"><![CDATA[etc. ]]></tbox></line>
<line><tbox llx="107" lly="499" urx="263" ury="512" f="1"><![CDATA[One notable difference between the ]]></tbox><tbox llx="256" lly="499" urx="331" ury="512" f="6"><![CDATA[JntInfCandidate ]]></tbox><tbox llx="324" lly="499" urx="371" ury="512" f="1"><![CDATA[and joint ]]></tbox><tbox llx="364" lly="499" urx="446" ury="512" f="6"><![CDATA[Affinity/Repulsion ]]></tbox><tbox llx="439" lly="499" urx="513" ury="512" f="1"><![CDATA[templates is the ]]></tbox></line>
<line><tbox llx="107" lly="488" urx="252" ury="501" f="1"><![CDATA[possible number of instantiations. ]]></tbox><tbox llx="244" lly="488" urx="323" ury="501" f="6"><![CDATA[JntInfCandidates ]]></tbox><tbox llx="315" lly="488" urx="513" ury="501" f="1"><![CDATA[can be calculated during preprocessing as there ]]></tbox></line>
<line><tbox llx="107" lly="477" urx="130" ury="490" f="1"><![CDATA[are ]]></tbox><tbox llx="123" lly="478" urx="159" ury="489" f="3"><![CDATA[O(nm ]]></tbox><tbox llx="150" lly="482" urx="161" ury="490" f="8"><![CDATA[2 ]]></tbox><tbox llx="152" lly="478" urx="167" ury="491" f="7"><![CDATA[) ]]></tbox><tbox llx="159" lly="477" urx="231" ury="490" f="1"><![CDATA[of these (where ]]></tbox><tbox llx="225" lly="478" urx="240" ury="489" f="3"><![CDATA[n ]]></tbox><tbox llx="232" lly="477" urx="389" ury="490" f="1"><![CDATA[is the maximum mention length, and ]]></tbox><tbox llx="383" lly="478" urx="401" ury="489" f="3"><![CDATA[m ]]></tbox><tbox llx="393" lly="477" urx="513" ury="490" f="1"><![CDATA[is the number of mentions). ]]></tbox></line>
<line><tbox llx="107" lly="466" urx="235" ury="479" f="1"><![CDATA[However, preprocessing joint ]]></tbox><tbox llx="227" lly="467" urx="309" ury="479" f="6"><![CDATA[Affinity/Repulsion ]]></tbox><tbox llx="301" lly="466" urx="513" ury="479" f="1"><![CDATA[templates is intractable as the number of such fac- ]]></tbox></line>
<line><tbox llx="107" lly="455" urx="142" ury="468" f="1"><![CDATA[tors is ]]></tbox><tbox llx="136" lly="456" urx="166" ury="467" f="3"><![CDATA[O(m ]]></tbox><tbox llx="156" lly="460" urx="167" ury="468" f="8"><![CDATA[2 ]]></tbox><tbox llx="161" lly="456" urx="176" ury="467" f="3"><![CDATA[n ]]></tbox><tbox llx="167" lly="460" urx="178" ury="468" f="8"><![CDATA[4 ]]></tbox><tbox llx="169" lly="456" urx="187" ury="469" f="7"><![CDATA[). ]]></tbox><tbox llx="181" lly="455" urx="513" ury="468" f="1"><![CDATA[We are able to deal with such a large set of possible factor instantiations due to ]]></tbox></line>
<line><tbox llx="107" lly="445" urx="178" ury="458" f="1"><![CDATA[the interplay of ]]></tbox><tbox llx="170" lly="445" urx="373" ury="458" f="6"><![CDATA[structure definition, variable-statistics mapping, ]]></tbox><tbox llx="365" lly="445" urx="510" ury="458" f="1"><![CDATA[and on-the-fly feature calculation. ]]></tbox></line>
<line><tbox llx="107" lly="428" urx="513" ury="441" f="1"><![CDATA[Our model also contains a number of factor templates that cannot be easily captured by first-order ]]></tbox></line>
<line><tbox llx="107" lly="417" urx="233" ury="430" f="1"><![CDATA[logic. For example consider ]]></tbox><tbox llx="226" lly="417" urx="286" ury="430" f="6"><![CDATA[StringMatch ]]></tbox><tbox llx="279" lly="417" urx="304" ury="430" f="1"><![CDATA[and ]]></tbox><tbox llx="296" lly="417" urx="346" ury="430" f="6"><![CDATA[SubString ]]></tbox><tbox llx="339" lly="417" urx="513" ury="430" f="1"><![CDATA[between two fields. For arbitrary length ]]></tbox></line>
<line><tbox llx="107" lly="406" urx="513" ury="419" f="1"><![CDATA[strings these features require the model designer to specify convoluted logic rules. The rules are even ]]></tbox></line>
<line><tbox llx="107" lly="395" urx="453" ury="408" f="1"><![CDATA[less intuitive when considering a feature based on more complex calculations such as ]]></tbox><tbox llx="445" lly="395" urx="514" ury="408" f="6"><![CDATA[StringEditDis- ]]></tbox></line>
<line><tbox llx="107" lly="384" urx="142" ury="397" f="6"><![CDATA[tance. ]]></tbox><tbox llx="134" lly="384" urx="513" ury="397" f="1"><![CDATA[It is conceivable to preprocess and store all instantiations of these features, but in practice this ]]></tbox></line>
<line><tbox llx="107" lly="373" urx="513" ury="386" f="1"><![CDATA[is intractable. Thus on-the-fly feature calculation within FACTORIE is employed to remain tractable. ]]></tbox></line>
<line><tbox llx="106" lly="333" urx="247" ury="349" f="10"><![CDATA[4 Experimental Results ]]></tbox></line>
<line><tbox llx="107" lly="305" urx="509" ury="318" f="1"><![CDATA[The joint segmentation and coreference model described above is applied to the Cora dataset[25]. ]]></tbox><tbox llx="499" lly="309" urx="510" ury="318" f="11"><![CDATA[4 ]]></tbox></line>
<line><tbox llx="107" lly="294" urx="513" ury="307" f="1"><![CDATA[The dataset contains 1295 total mentions in 134 clusters, with a total of 36487 tokens. Isolated train- ]]></tbox></line>
<line><tbox llx="107" lly="283" urx="456" ury="296" f="1"><![CDATA[ing consists of 5 loops of 100,000 samples each, and 300,000 samples for inference. ]]></tbox><tbox llx="453" lly="283" urx="513" ury="296" f="1"><![CDATA[For the joint ]]></tbox></line>
<line><tbox llx="107" lly="272" urx="211" ury="285" f="1"><![CDATA[task we run training for ]]></tbox><tbox llx="203" lly="272" urx="219" ury="285" f="7"><![CDATA[5 ]]></tbox><tbox llx="211" lly="272" urx="494" ury="285" f="1"><![CDATA[loops of 250,000 samples each, with 750,000 samples for inference. ]]></tbox><tbox llx="490" lly="272" urx="513" ury="285" f="1"><![CDATA[We ]]></tbox></line>
<line><tbox llx="107" lly="261" urx="513" ury="274" f="1"><![CDATA[average the results of 10 runs of three-fold cross validation, with the same folds as [21]. Segmenta- ]]></tbox></line>
<line><tbox llx="107" lly="250" urx="513" ury="263" f="1"><![CDATA[tion is evaluated on token precision, recall and F1. For coreference, pairwise coreference decisions ]]></tbox></line>
<line><tbox llx="107" lly="239" urx="511" ury="252" f="1"><![CDATA[are evaluated. The fraction of clusters that are correctly predicted (cluster recall) is also calculated. ]]></tbox></line>
<line><tbox llx="107" lly="222" urx="513" ury="235" f="1"><![CDATA[In Table 1, we see both our isolated and joint models outperform the previous state-of-the-art results ]]></tbox></line>
<line><tbox llx="107" lly="211" urx="205" ury="224" f="1"><![CDATA[of [21] on both tasks. ]]></tbox><tbox llx="200" lly="211" urx="247" ury="224" f="1"><![CDATA[We see a ]]></tbox><tbox llx="239" lly="211" urx="282" ury="224" f="7"><![CDATA[25.23% ]]></tbox><tbox llx="274" lly="211" urx="484" ury="224" f="1"><![CDATA[error reduction in pairwise coreference F1, and a ]]></tbox><tbox llx="476" lly="211" urx="514" ury="224" f="7"><![CDATA[20.0% ]]></tbox></line>
<line><tbox llx="107" lly="200" urx="513" ury="213" f="1"><![CDATA[error reduction of tokenwise segmentation F1 when comparing to the joint MLN. The improvements ]]></tbox></line>
<line><tbox llx="107" lly="189" urx="335" ury="202" f="1"><![CDATA[of joint over isolated IDF are statistically significant at ]]></tbox><tbox llx="326" lly="189" urx="351" ury="202" f="7"><![CDATA[1% ]]></tbox><tbox llx="342" lly="189" urx="416" ury="202" f="1"><![CDATA[using the T-test. ]]></tbox></line>
<line><tbox llx="107" lly="172" urx="368" ury="185" f="1"><![CDATA[The experiments run very quickly, which can be attributed to ]]></tbox><tbox llx="360" lly="172" urx="421" ury="185" f="6"><![CDATA[sample-rank ]]></tbox><tbox llx="414" lly="172" urx="513" ury="185" f="1"><![CDATA[and the application of ]]></tbox></line>
<line><tbox llx="107" lly="161" urx="204" ury="174" f="6"><![CDATA[variable coordination ]]></tbox><tbox llx="195" lly="161" urx="220" ury="174" f="1"><![CDATA[and ]]></tbox><tbox llx="212" lly="161" urx="298" ury="174" f="6"><![CDATA[structure definition ]]></tbox><tbox llx="289" lly="161" urx="513" ury="174" f="1"><![CDATA[of the models as described earlier. Each of the isolated ]]></tbox></line>
<line><tbox llx="107" lly="150" urx="513" ury="163" f="1"><![CDATA[tasks finishes initialization, training and evaluation within 3 minutes, while the joint task takes 18 ]]></tbox></line>
<line><tbox llx="107" lly="139" urx="513" ury="152" f="1"><![CDATA[minutes. The running time for the MLNs reported in [21] are between 50-90 minutes for learning ]]></tbox></line>
<line><tbox llx="107" lly="128" urx="174" ury="141" f="1"><![CDATA[and inference. ]]></tbox><tbox llx="168" lly="128" urx="513" ury="141" f="1"><![CDATA[Thus we can see that IDFs provide a significant boost in efficiency by avoiding the ]]></tbox></line>
<line><tbox llx="107" lly="117" urx="513" ury="130" f="1"><![CDATA[need to unroll or score the entire graph. Note also that the timing result from [21] is for a model that ]]></tbox></line>
<line><tbox llx="107" lly="106" urx="513" ury="119" f="1"><![CDATA[did not enforce transitivity constraints on the coreference predictions. Adding transitivity constraints ]]></tbox></line>
<line><tbox llx="107" lly="95" urx="475" ury="108" f="1"><![CDATA[dramatically increases running time [26], whereas the IDF supports transitivity implicitly. ]]></tbox></line>
<line><tbox llx="120" lly="64" urx="129" ury="72" f="12"><![CDATA[4 ]]></tbox><tbox llx="123" lly="59" urx="352" ury="71" f="13"><![CDATA[Available at http://alchemy.cs.washington.edu/papers/poon07 ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="1"><![CDATA[7 ]]></tbox></line>
<pbox llx="106.00" lly="29.00" urx="514.00" ury="712.00"/></page>
<page n="8">
<line><tbox llx="106" lly="696" urx="209" ury="712" f="1"><![CDATA[5 Related Work ]]></tbox></line>
<line><tbox llx="107" lly="673" urx="465" ury="686" f="2"><![CDATA[Over the years there have been many efforts to build graphical models toolkits. ]]></tbox><tbox llx="466" lly="673" urx="513" ury="686" f="2"><![CDATA[Many of ]]></tbox></line>
<line><tbox llx="107" lly="662" urx="513" ury="675" f="2"><![CDATA[them are useful as teaching aids, such as the Bayes Net Toolbox and Probabilistic Modeling ]]></tbox></line>
<line><tbox llx="107" lly="651" urx="462" ury="664" f="2"><![CDATA[Toolkit (PMTK)[27] (both in Matlab), but do not scale up to substantial real problems. ]]></tbox></line>
<line><tbox llx="107" lly="634" urx="513" ury="647" f="2"><![CDATA[There has been growing interest in building systems that can perform as workhorses, doing real ]]></tbox></line>
<line><tbox llx="107" lly="623" urx="513" ury="636" f="2"><![CDATA[work on large data. For example, Infer.NET (CSoft) [28] is intended to be deployed in a num- ]]></tbox></line>
<line><tbox llx="107" lly="612" urx="513" ury="625" f="2"><![CDATA[ber of Microsoft products, and has been applied to problems in computer vision. Like IDFs it is ]]></tbox></line>
<line><tbox llx="107" lly="601" urx="513" ury="614" f="2"><![CDATA[embedded in a pre-existing programming language, rather than embodying its own new "little lan- ]]></tbox></line>
<line><tbox llx="107" lly="591" urx="513" ury="604" f="2"><![CDATA[guage," and its users have commented positively about this facet. Unlike IDFs it is designed for ]]></tbox></line>
<line><tbox llx="107" lly="580" urx="513" ury="593" f="2"><![CDATA[messaging-passing inference, and must unroll the graphical model before inference, creating factors ]]></tbox></line>
<line><tbox llx="107" lly="569" urx="513" ury="582" f="2"><![CDATA[to represent all possible worlds, which makes it unsuitable for our applications. The very recent ]]></tbox></line>
<line><tbox llx="107" lly="558" urx="513" ury="571" f="2"><![CDATA[language Figaro [29] is also implemented as a library. Like FACTORIE it is implemented in Scala, ]]></tbox></line>
<line><tbox llx="107" lly="547" urx="513" ury="560" f="2"><![CDATA[and provides an object-oriented framework for models; unlike FACTORIE it tightly intertwines data ]]></tbox></line>
<line><tbox llx="107" lly="536" urx="513" ury="549" f="2"><![CDATA[representation and scoring, and it is not designed for changing model structure during inference; it ]]></tbox></line>
<line><tbox llx="107" lly="525" urx="254" ury="538" f="2"><![CDATA[also does not yet support learning. ]]></tbox></line>
<line><tbox llx="107" lly="508" urx="497" ury="521" f="2"><![CDATA[BLOG [5] and some of its derivatives can also scale to substantial data sets, and, like IDFs, ]]></tbox><tbox llx="491" lly="508" urx="513" ury="521" f="2"><![CDATA[are ]]></tbox></line>
<line><tbox llx="107" lly="497" urx="513" ury="510" f="2"><![CDATA[designed for graphical models that cannot be fully unrolled. Unlike IDFs, BLOG, as well as IBAL ]]></tbox></line>
<line><tbox llx="107" lly="486" urx="513" ury="499" f="2"><![CDATA[[6] and Church [7], are designed for generative models, though Church can also represent condi- ]]></tbox></line>
<line><tbox llx="107" lly="475" urx="513" ury="488" f="2"><![CDATA[tional, undirected models. We are most interested in supporting advanced discriminative models of ]]></tbox></line>
<line><tbox llx="107" lly="464" urx="513" ury="477" f="2"><![CDATA[the type that have been successful for natural language processing, computer vision, bioinformatics, ]]></tbox></line>
<line><tbox llx="107" lly="453" urx="177" ury="466" f="2"><![CDATA[and elsewhere. ]]></tbox><tbox llx="171" lly="453" urx="513" ury="466" f="2"><![CDATA[Note that FACTORIE also supports generative models; for example latent Dirichlet ]]></tbox></line>
<line><tbox llx="107" lly="442" urx="282" ury="455" f="2"><![CDATA[allocation can be coded in about 15 lines. ]]></tbox></line>
<line><tbox llx="107" lly="425" urx="513" ury="438" f="2"><![CDATA[Two systems focussing on discriminatively-trained relational models are relational Markov networks ]]></tbox></line>
<line><tbox llx="107" lly="414" urx="331" ury="427" f="2"><![CDATA[(RMNs) [8], and Markov logic networks (MLNs, with ]]></tbox><tbox llx="322" lly="414" urx="367" ury="427" f="4"><![CDATA[Alchemy ]]></tbox><tbox llx="359" lly="414" urx="513" ury="427" f="2"><![CDATA[as its most popular implementation). ]]></tbox></line>
<line><tbox llx="107" lly="403" urx="513" ury="416" f="2"><![CDATA[To define repeated relational structure and parameter tying, both use declarative languages: RMNs ]]></tbox></line>
<line><tbox llx="107" lly="392" urx="513" ury="405" f="2"><![CDATA[use SQL and MLNs use first-order logic. By contrast, as discussed above, IDFs are in essence an ]]></tbox></line>
<line><tbox llx="107" lly="381" urx="298" ury="394" f="2"><![CDATA[experiment in taking an imperative approach. ]]></tbox></line>
<line><tbox llx="107" lly="364" urx="513" ury="377" f="2"><![CDATA[There has, however, been both historical and recently growing interest in using imperative program- ]]></tbox></line>
<line><tbox llx="107" lly="353" urx="513" ury="366" f="2"><![CDATA[ming languages for defining learning systems and probabilistic models. For example, work on the- ]]></tbox></line>
<line><tbox llx="107" lly="342" urx="513" ury="355" f="2"><![CDATA[ory refinement [30] viewed domain theories as "statements in a procedural programming language, ]]></tbox></line>
<line><tbox llx="107" lly="332" urx="513" ury="345" f="2"><![CDATA[rather than the common view of a domain theory being a collection of declarative Prolog state- ]]></tbox></line>
<line><tbox llx="107" lly="321" urx="406" ury="334" f="2"><![CDATA[ments." More recently, IBAL [6] and Church [7] are both fundamentally ]]></tbox><tbox llx="397" lly="321" urx="446" ury="334" f="5"><![CDATA[programs ]]></tbox><tbox llx="438" lly="321" urx="513" ury="334" f="2"><![CDATA[that describe the ]]></tbox></line>
<line><tbox llx="107" lly="310" urx="513" ury="323" f="2"><![CDATA[generative storyline for the data. IDFs, of course, share the combination of imperative programming ]]></tbox></line>
<line><tbox llx="107" lly="299" urx="513" ury="312" f="2"><![CDATA[with probabilistic modeling, but IDFs have their semantics defined by undirected factor graphs, and ]]></tbox></line>
<line><tbox llx="107" lly="288" urx="266" ury="301" f="2"><![CDATA[are typically discriminatively trained. ]]></tbox></line>
<line><tbox llx="106" lly="257" urx="195" ury="274" f="1"><![CDATA[6 Conclusion ]]></tbox></line>
<line><tbox llx="107" lly="235" urx="513" ury="248" f="2"><![CDATA[In this paper we have described imperatively defined factor graphs (IDFs), a framework to support ]]></tbox></line>
<line><tbox llx="107" lly="224" urx="513" ury="237" f="2"><![CDATA[efficient learning and inference in large factor graphs of changing structure. We preserve the tradi- ]]></tbox></line>
<line><tbox llx="107" lly="213" urx="513" ury="226" f="2"><![CDATA[tional, declarative, statistical semantics of factor graphs while allowing imperative definitions of the ]]></tbox></line>
<line><tbox llx="107" lly="202" urx="513" ury="215" f="2"><![CDATA[model structure and operation. This allows model authors to combine both declarative and procedu- ]]></tbox></line>
<line><tbox llx="107" lly="191" urx="513" ury="204" f="2"><![CDATA[ral domain knowledge, while also obtaining significantly more efficient inference and learning than ]]></tbox></line>
<line><tbox llx="107" lly="180" urx="211" ury="193" f="2"><![CDATA[declarative approaches. ]]></tbox><tbox llx="206" lly="180" urx="513" ury="193" f="2"><![CDATA[We have shown state-of-the-art results in citation matching that highlight ]]></tbox></line>
<line><tbox llx="107" lly="169" urx="364" ury="182" f="2"><![CDATA[the advantages afforded by IDFs for both accuracy and speed. ]]></tbox></line>
<line><tbox llx="106" lly="139" urx="213" ury="156" f="1"><![CDATA[Acknowledgments ]]></tbox></line>
<line><tbox llx="107" lly="117" urx="513" ury="130" f="2"><![CDATA[This work was supported in part by NSF medium IIS-0803847; the Central Intelligence Agency, ]]></tbox></line>
<line><tbox llx="107" lly="106" urx="513" ury="119" f="2"><![CDATA[the National Security Agency and National Science Foundation under NSF grant IIS-0326249; ]]></tbox></line>
<line><tbox llx="107" lly="95" urx="513" ury="108" f="2"><![CDATA[SRI International subcontract #27-001338 and ARFL prime contract #FA8750-09-C-0181; Army ]]></tbox></line>
<line><tbox llx="107" lly="84" urx="513" ury="97" f="2"><![CDATA[prime contract number W911NF-07-1-0216 and University of Pennsylvania subaward number 103- ]]></tbox></line>
<line><tbox llx="107" lly="73" urx="513" ury="86" f="2"><![CDATA[548106. Any opinions, findings and conclusions or recommendations expressed in this material are ]]></tbox></line>
<line><tbox llx="107" lly="62" urx="368" ury="75" f="2"><![CDATA[the authors' and do not necessarily reflect those of the sponsor. ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="2"><![CDATA[8 ]]></tbox></line>
<pbox llx="106.00" lly="29.00" urx="513.00" ury="712.00"/></page>
<page n="9">
<line><tbox llx="106" lly="696" urx="175" ury="712" f="1"><![CDATA[References ]]></tbox></line>
<line><tbox llx="111" lly="682" urx="512" ury="694" f="2"><![CDATA[[1] John D. Lafferty, Andrew McCallum, and Fernando Pereira. Conditional random fields: Probabilistic ]]></tbox></line>
<line><tbox llx="127" lly="672" urx="330" ury="684" f="2"><![CDATA[models for segmenting and labeling sequence data. In ]]></tbox><tbox llx="323" lly="672" urx="474" ury="684" f="3"><![CDATA[Int Conf on Machine Learning (ICML), ]]></tbox><tbox llx="466" lly="672" urx="496" ury="684" f="2"><![CDATA[2001. ]]></tbox></line>
<line><tbox llx="111" lly="659" urx="512" ury="670" f="2"><![CDATA[[2] Charles Sutton and Andrew McCallum. An introduction to conditional random fields for relational learn- ]]></tbox></line>
<line><tbox llx="127" lly="649" urx="161" ury="660" f="2"><![CDATA[ing. In ]]></tbox><tbox llx="154" lly="649" urx="332" ury="660" f="3"><![CDATA[Introduction to Statistical Relational Learning. ]]></tbox><tbox llx="325" lly="649" urx="354" ury="660" f="2"><![CDATA[2007. ]]></tbox></line>
<line><tbox llx="111" lly="635" urx="512" ury="647" f="2"><![CDATA[[3] A. Bernal, K. Crammer, A. Hatzigeorgiou, and F. Pereira. Global discriminative learning for higher- ]]></tbox></line>
<line><tbox llx="127" lly="626" urx="286" ury="637" f="2"><![CDATA[accuracy computation gene prediction. In ]]></tbox><tbox llx="279" lly="626" urx="393" ury="637" f="3"><![CDATA[PloS Computational Biology, ]]></tbox><tbox llx="386" lly="626" urx="416" ury="637" f="2"><![CDATA[2007. ]]></tbox></line>
<line><tbox llx="111" lly="612" urx="467" ury="624" f="2"><![CDATA[[4] A. Quottoni, M. Collins, and T. Darrell. Conditional random fields for object recognition. In ]]></tbox><tbox llx="460" lly="612" urx="490" ury="624" f="3"><![CDATA[NIPS, ]]></tbox><tbox llx="483" lly="612" urx="512" ury="624" f="2"><![CDATA[2004. ]]></tbox></line>
<line><tbox llx="111" lly="599" urx="182" ury="611" f="2"><![CDATA[[5] Brian Milch. ]]></tbox><tbox llx="175" lly="599" urx="344" ury="611" f="3"><![CDATA[Probabilistic Models with Unknown Objects. ]]></tbox><tbox llx="337" lly="599" urx="512" ury="611" f="2"><![CDATA[PhD thesis, University of California, Berkeley, ]]></tbox></line>
<line><tbox llx="127" lly="589" urx="157" ury="601" f="2"><![CDATA[2006. ]]></tbox></line>
<line><tbox llx="111" lly="576" urx="388" ury="588" f="2"><![CDATA[[6] Avi Pfeffer. IBAL: A probabilistic rational programming language. In ]]></tbox><tbox llx="381" lly="576" urx="414" ury="588" f="3"><![CDATA[IJCAI, ]]></tbox><tbox llx="407" lly="576" urx="495" ury="588" f="2"><![CDATA[pages 733--740, 2001. ]]></tbox></line>
<line><tbox llx="111" lly="563" urx="512" ury="575" f="2"><![CDATA[[7] Noah D. Goodman, Vikash K. Mansinghka, Daniel Roy, Keith Bonawitz, and Joshua B. Tenenbaum. ]]></tbox></line>
<line><tbox llx="127" lly="553" urx="300" ury="565" f="2"><![CDATA[Church: a language for generative models. In ]]></tbox><tbox llx="292" lly="553" urx="458" ury="565" f="3"><![CDATA[Uncertainty in Artificial Intelligence (UAI), ]]></tbox><tbox llx="450" lly="553" urx="480" ury="565" f="2"><![CDATA[2008. ]]></tbox></line>
<line><tbox llx="111" lly="540" urx="512" ury="551" f="2"><![CDATA[[8] Ben Taskar, Abbeel Pieter, and Daphne Koller. Discriminative probabilistic models for relational data. In ]]></tbox></line>
<line><tbox llx="127" lly="530" urx="292" ury="542" f="3"><![CDATA[Uncertainty in Artificial Intelligence (UAI), ]]></tbox><tbox llx="285" lly="530" urx="314" ury="542" f="2"><![CDATA[2002. ]]></tbox></line>
<line><tbox llx="111" lly="517" urx="380" ury="528" f="2"><![CDATA[[9] Matthew Richardson and Pedro Domingos. Markov logic networks. ]]></tbox><tbox llx="374" lly="517" urx="452" ury="528" f="3"><![CDATA[Machine Learning, ]]></tbox><tbox llx="445" lly="517" urx="506" ury="528" f="2"><![CDATA[62(1-2), 2006. ]]></tbox></line>
<line><tbox llx="107" lly="503" urx="374" ury="515" f="2"><![CDATA[[10] David Poole. Probabilistic horn abduction and bayesian networks. ]]></tbox><tbox llx="368" lly="503" urx="456" ury="515" f="3"><![CDATA[Artificial Intelligence, ]]></tbox><tbox llx="449" lly="503" urx="492" ury="515" f="2"><![CDATA[64, 1993. ]]></tbox></line>
<line><tbox llx="107" lly="490" urx="275" ury="502" f="2"><![CDATA[[11] Stephen Muggleton and Luc DeRaedt. ]]></tbox><tbox llx="270" lly="490" urx="461" ury="502" f="2"><![CDATA[Inductive logic programming theory and methods. ]]></tbox><tbox llx="456" lly="490" urx="473" ury="502" f="2"><![CDATA[In ]]></tbox><tbox llx="466" lly="490" urx="513" ury="502" f="3"><![CDATA[Journal of ]]></tbox></line>
<line><tbox llx="127" lly="480" urx="211" ury="492" f="3"><![CDATA[Logic Programming, ]]></tbox><tbox llx="204" lly="480" urx="233" ury="492" f="2"><![CDATA[1994. ]]></tbox></line>
<line><tbox llx="107" lly="467" urx="270" ury="479" f="2"><![CDATA[[12] Taisuke Sato and Yoshitaka Kameya. ]]></tbox><tbox llx="265" lly="467" urx="469" ury="479" f="2"><![CDATA[PRISM: a language for symbolic-statistical modeling. ]]></tbox><tbox llx="464" lly="467" urx="480" ury="479" f="2"><![CDATA[In ]]></tbox><tbox llx="474" lly="467" urx="513" ury="479" f="3"><![CDATA[Interna- ]]></tbox></line>
<line><tbox llx="127" lly="457" urx="342" ury="469" f="3"><![CDATA[tional Joint Conference on Artificial Intelligence (IJCAI), ]]></tbox><tbox llx="335" lly="457" urx="365" ury="469" f="2"><![CDATA[1997. ]]></tbox></line>
<line><tbox llx="107" lly="444" urx="277" ury="456" f="2"><![CDATA[[13] Luc De Raedt and Kristian Kersting. ]]></tbox><tbox llx="276" lly="444" urx="389" ury="456" f="2"><![CDATA[Probabilistic logic learning. ]]></tbox><tbox llx="388" lly="444" urx="513" ury="456" f="3"><![CDATA[SIGKDD Explorations: Multi- ]]></tbox></line>
<line><tbox llx="127" lly="434" urx="224" ury="446" f="3"><![CDATA[Relational Data Mining, ]]></tbox><tbox llx="217" lly="434" urx="247" ury="446" f="2"><![CDATA[2003. ]]></tbox></line>
<line><tbox llx="107" lly="421" urx="195" ury="433" f="2"><![CDATA[[14] Martin Odersky. ]]></tbox><tbox llx="190" lly="421" urx="446" ury="433" f="2"><![CDATA[An Overview of the Scala Programming Language (second edition). ]]></tbox><tbox llx="441" lly="421" urx="512" ury="433" f="2"><![CDATA[Technical Report ]]></tbox></line>
<line><tbox llx="127" lly="411" urx="316" ury="423" f="2"><![CDATA[IC/2006/001, EPFL Lausanne, Switzerland, 2006. ]]></tbox></line>
<line><tbox llx="107" lly="398" urx="512" ury="409" f="2"><![CDATA[[15] Aron Culotta and Andrew McCallum. Tractable learning and inference with high-order representations. ]]></tbox></line>
<line><tbox llx="127" lly="388" urx="144" ury="399" f="2"><![CDATA[In ]]></tbox><tbox llx="137" lly="388" urx="375" ury="399" f="3"><![CDATA[ICML WS on Open Problems in Statistical Relational Learning, ]]></tbox><tbox llx="368" lly="388" urx="397" ury="399" f="2"><![CDATA[2006. ]]></tbox></line>
<line><tbox llx="107" lly="374" urx="206" ury="386" f="2"><![CDATA[[16] Keith A. Bonawitz. ]]></tbox><tbox llx="200" lly="375" urx="383" ury="386" f="3"><![CDATA[Composable Probabilistic Inference with Blaise. ]]></tbox><tbox llx="377" lly="374" urx="470" ury="386" f="2"><![CDATA[PhD thesis, MIT, 2008. ]]></tbox></line>
<line><tbox llx="107" lly="361" urx="186" ury="373" f="2"><![CDATA[[17] Aron Culotta. ]]></tbox><tbox llx="179" lly="361" urx="513" ury="373" f="3"><![CDATA[Learning and inference in weighted logic with application to natural language processing. ]]></tbox></line>
<line><tbox llx="127" lly="351" urx="305" ury="363" f="2"><![CDATA[PhD thesis, University of Massachusetts, 2008. ]]></tbox></line>
<line><tbox llx="107" lly="338" urx="512" ury="350" f="2"><![CDATA[[18] Charles Sutton and Andrew McCallum. Collective segmentation and labeling of distant entities in infor- ]]></tbox></line>
<line><tbox llx="127" lly="328" urx="453" ury="340" f="2"><![CDATA[mation extraction. Technical Report TR#04-49, University of Massachusetts, July 2004. ]]></tbox></line>
<line><tbox llx="107" lly="315" urx="334" ury="327" f="2"><![CDATA[[19] Aron Culotta, Michael Wick, and Andrew McCallum. ]]></tbox><tbox llx="330" lly="315" urx="512" ury="327" f="2"><![CDATA[First-order probabilistic models for coreference ]]></tbox></line>
<line><tbox llx="127" lly="305" urx="185" ury="317" f="2"><![CDATA[resolution. In ]]></tbox><tbox llx="178" lly="305" urx="390" ury="317" f="3"><![CDATA[NAACL: Human Language Technologies (NAACL/HLT), ]]></tbox><tbox llx="383" lly="305" urx="412" ury="317" f="2"><![CDATA[2007. ]]></tbox></line>
<line><tbox llx="107" lly="292" urx="512" ury="304" f="2"><![CDATA[[20] Khashayar Rohanimanesh, Michael Wick, and Andrew McCallum. Inference and learning in large factor ]]></tbox></line>
<line><tbox llx="127" lly="282" urx="268" ury="294" f="2"><![CDATA[graphs with a rank based objective. ]]></tbox><tbox llx="265" lly="282" urx="512" ury="294" f="2"><![CDATA[Technical Report UM-CS-2009-08, University of Massachusetts, ]]></tbox></line>
<line><tbox llx="127" lly="272" urx="192" ury="284" f="2"><![CDATA[Amherst, 2009. ]]></tbox></line>
<line><tbox llx="107" lly="259" urx="428" ury="271" f="2"><![CDATA[[21] Hoifung Poon and Pedro Domingos. Joint inference in information extraction. In ]]></tbox><tbox llx="421" lly="259" urx="452" ury="271" f="3"><![CDATA[AAAI, ]]></tbox><tbox llx="445" lly="259" urx="474" ury="271" f="2"><![CDATA[2007. ]]></tbox></line>
<line><tbox llx="107" lly="246" urx="315" ury="257" f="2"><![CDATA[[22] Vasin Punyakanok, Dan Roth, and Wen-tau Yih. ]]></tbox><tbox llx="312" lly="246" urx="512" ury="257" f="2"><![CDATA[The necessity of syntactic parsing for semantic role ]]></tbox></line>
<line><tbox llx="127" lly="236" urx="178" ury="247" f="2"><![CDATA[labeling. In ]]></tbox><tbox llx="171" lly="236" urx="389" ury="247" f="3"><![CDATA[International Joint Conf on Artificial Intelligence (IJCAI), ]]></tbox><tbox llx="382" lly="236" urx="479" ury="247" f="2"><![CDATA[pages 1117--1123, 2005. ]]></tbox></line>
<line><tbox llx="107" lly="222" urx="378" ury="234" f="2"><![CDATA[[23] Ben Wellner, Andrew McCallum, Fuchun Peng, and Michael Hay. ]]></tbox><tbox llx="373" lly="222" urx="512" ury="234" f="2"><![CDATA[An integrated, conditional model of ]]></tbox></line>
<line><tbox llx="127" lly="212" urx="423" ury="224" f="2"><![CDATA[information extraction and coreference with application to citation matching. In ]]></tbox><tbox llx="416" lly="213" urx="447" ury="224" f="3"><![CDATA[AUAI, ]]></tbox><tbox llx="440" lly="212" urx="470" ury="224" f="2"><![CDATA[2004. ]]></tbox></line>
<line><tbox llx="107" lly="199" urx="329" ury="211" f="2"><![CDATA[[24] Sameer Singh, Karl Schultz, and Andrew McCallum. ]]></tbox><tbox llx="324" lly="199" urx="512" ury="211" f="2"><![CDATA[Bi-directional joint inference for entity resolution ]]></tbox></line>
<line><tbox llx="127" lly="189" urx="360" ury="201" f="2"><![CDATA[and segmentation using imperatively-defined factor graphs. In ]]></tbox><tbox llx="352" lly="189" urx="415" ury="201" f="3"><![CDATA[ECML PKDD, ]]></tbox><tbox llx="407" lly="189" urx="496" ury="201" f="2"><![CDATA[pages 414--429, 2009. ]]></tbox></line>
<line><tbox llx="107" lly="176" urx="512" ury="188" f="2"><![CDATA[[25] Andrew McCallum, Kamal Nigam, Jason Rennie, and Kristie Seymore. A machine learning approach to ]]></tbox></line>
<line><tbox llx="127" lly="166" urx="293" ury="178" f="2"><![CDATA[building domain-specific search engines. In ]]></tbox><tbox llx="286" lly="166" urx="467" ury="178" f="3"><![CDATA[Int Joint Conf on Artificial Intelligence (IJCAI), ]]></tbox><tbox llx="460" lly="166" urx="489" ury="178" f="2"><![CDATA[1999. ]]></tbox></line>
<line><tbox llx="107" lly="153" urx="327" ury="165" f="2"><![CDATA[[26] Hoifung Poon, Pedro Domingos, and Marc Sumner. ]]></tbox><tbox llx="322" lly="153" urx="512" ury="165" f="2"><![CDATA[A general method for reducing the complexity of ]]></tbox></line>
<line><tbox llx="127" lly="143" urx="326" ury="155" f="2"><![CDATA[relational inference and its application to MCMC. In ]]></tbox><tbox llx="319" lly="143" urx="350" ury="155" f="3"><![CDATA[AAAI, ]]></tbox><tbox llx="343" lly="143" urx="372" ury="155" f="2"><![CDATA[2008. ]]></tbox></line>
<line><tbox llx="107" lly="130" urx="407" ury="142" f="2"><![CDATA[[27] Kevin Murphy and Matt Dunham. PMTK: Probabilistic modeling toolkit. ]]></tbox><tbox llx="403" lly="130" urx="420" ury="142" f="2"><![CDATA[In ]]></tbox><tbox llx="414" lly="130" urx="513" ury="142" f="3"><![CDATA[Neural Information Pro- ]]></tbox></line>
<line><tbox llx="127" lly="120" urx="372" ury="132" f="3"><![CDATA[cessing Systems (NIPS) Workshop on Probabilistic Programming, ]]></tbox><tbox llx="365" lly="120" urx="395" ury="132" f="2"><![CDATA[2008. ]]></tbox></line>
<line><tbox llx="107" lly="107" urx="517" ury="119" f="2"><![CDATA[[28] John Winn and Tom Minka. Infer.NET/CSoft, 2008. http://research.microsoft.com/mlp/ml/Infer/Csoft.htm. ]]></tbox></line>
<line><tbox llx="107" lly="94" urx="512" ury="105" f="2"><![CDATA[[29] Avi Pfeffer. Figaro: An Object-Oriented Probabilistic Programming Language. Technical report, Charles ]]></tbox></line>
<line><tbox llx="127" lly="84" urx="217" ury="95" f="2"><![CDATA[River Analytics, 2009. ]]></tbox></line>
<line><tbox llx="107" lly="70" urx="441" ury="82" f="2"><![CDATA[[30] Richard Maclin and Jude W. Shavlik. Creating advice-taking reinforcement learners. ]]></tbox><tbox llx="434" lly="70" urx="513" ury="82" f="3"><![CDATA[Machine Learning, ]]></tbox></line>
<line><tbox llx="127" lly="60" urx="170" ury="72" f="2"><![CDATA[22, 1996. ]]></tbox></line>
<line><tbox llx="302" lly="29" urx="318" ury="42" f="4"><![CDATA[9]]></tbox></line>
<pbox llx="107.00" lly="29.00" urx="517.00" ury="694.00"/></page>
<fonts>
<font name="SWYGRG+NimbusRomNo9L-Medi" h="15.56" n="1"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="10.81" n="2"/>
<font name="FFNPOD+NimbusRomNo9L-ReguItal" h="10.71" n="3"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="12.00" n="4"/>
<font name="LEYJOQ+NimbusRomNo9L-Regu-Slant_167" h="12.00" n="5"/>
<font name="FFNPOD+NimbusRomNo9L-ReguItal" h="11.89" n="6"/>
<font name="DFGPBJ+CMR10" h="12.14" n="7"/>
<font name="MYRZFH+CMR7" h="6.97" n="8"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="9.60" n="9"/>
<font name="SWYGRG+NimbusRomNo9L-Medi" h="15.56" n="10"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="8.40" n="11"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="7.21" n="12"/>
<font name="FXJXCW+NimbusRomNo9L-Regu" h="10.81" n="13"/>
<font name="BWKFUB+CMSY7" h="12.08" n="14"/>
<font name="MYRZFH+CMR7" h="6.97" n="15"/>
<font name="VADIEX+CMBX7" h="6.98" n="16"/>
</fonts>
</document>